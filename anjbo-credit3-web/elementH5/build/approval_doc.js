!function(e,t){"function"==typeof define&&define.amd?define(function(){return t(e)}):t(e)}(this,function(c){var Vj,d=function(){function u(e){return null==e?String(e):R[B.call(e)]||"object"}function a(e){return"function"==u(e)}function o(e){return null!=e&&e==e.window}function s(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function r(e){return"object"==u(e)}function l(e){return r(e)&&!o(e)&&Object.getPrototypeOf(e)==Object.prototype}function d(e){var t=!!e&&"length"in e&&e.length,n=S.type(e);return"function"!=n&&!o(e)&&("array"==n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function f(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function n(e){return e in t?t[e]:t[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function h(e,t){return"number"!=typeof t||I[f(e)]?t:t+"px"}function i(e){return"children"in e?N.call(e.children):S.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function p(e,t){var n,i=e?e.length:0;for(n=0;n<i;n++)this[n]=e[n];this.length=i,this.selector=t||""}function m(e,t){return null==t?S(e):S(e).filter(t)}function v(e,t,n,i){return a(t)?t.call(e,n,i):t}function g(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function y(e,t){var n=e.className||"",i=n&&n.baseVal!==j;return t===j?i?n.baseVal:n:void(i?n.baseVal=t:e.className=t)}function b(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?S.parseJSON(t):t):t}catch(e){return t}}var j,x,S,C,w,T,E=[],$=E.concat,k=E.filter,N=E.slice,L=c.document,_={},t={},I={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},O=/^\s*<(\w+|!)[^>]*>/,D=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,P=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,A=/^(?:body|html)$/i,q=/([A-Z])/g,F=["val","css","html","text","data","width","height","offset"],e=L.createElement("table"),J=L.createElement("tr"),M={tr:L.createElement("tbody"),tbody:e,thead:e,tfoot:e,td:J,th:J,"*":L.createElement("div")},V=/complete|loaded|interactive/,z=/^[\w-]*$/,R={},B=R.toString,W={},H=L.createElement("div"),U={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Z=Array.isArray||function(e){return e instanceof Array};return W.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,r=e.parentNode,o=!r;return o&&(r=H).appendChild(e),i=~W.qsa(r,t).indexOf(e),o&&H.removeChild(e),i},w=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},T=function(n){return k.call(n,function(e,t){return n.indexOf(e)==t})},W.fragment=function(e,t,n){var i,r,o;return D.test(e)&&(i=S(L.createElement(RegExp.$1))),i||(e.replace&&(e=e.replace(P,"<$1></$2>")),t===j&&(t=O.test(e)&&RegExp.$1),t in M||(t="*"),(o=M[t]).innerHTML=""+e,i=S.each(N.call(o.childNodes),function(){o.removeChild(this)})),l(n)&&(r=S(i),S.each(n,function(e,t){-1<F.indexOf(e)?r[e](t):r.attr(e,t)})),i},W.Z=function(e,t){return new p(e,t)},W.isZ=function(e){return e instanceof W.Z},W.init=function(e,t){var n,i;if(!e)return W.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&O.test(e))n=W.fragment(e,RegExp.$1,t),e=null;else{if(t!==j)return S(t).find(e);n=W.qsa(L,e)}else{if(a(e))return S(L).ready(e);if(W.isZ(e))return e;if(Z(e))i=e,n=k.call(i,function(e){return null!=e});else if(r(e))n=[e],e=null;else if(O.test(e))n=W.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==j)return S(t).find(e);n=W.qsa(L,e)}}return W.Z(n,e)},(S=function(e,t){return W.init(e,t)}).extend=function(t){var n,e=N.call(arguments,1);return"boolean"==typeof t&&(n=t,t=e.shift()),e.forEach(function(e){!function e(t,n,i){for(x in n)i&&(l(n[x])||Z(n[x]))?(l(n[x])&&!l(t[x])&&(t[x]={}),Z(n[x])&&!Z(t[x])&&(t[x]=[]),e(t[x],n[x],i)):n[x]!==j&&(t[x]=n[x])}(t,e,n)}),t},W.qsa=function(e,t){var n,i="#"==t[0],r=!i&&"."==t[0],o=i||r?t.slice(1):t,a=z.test(o);return e.getElementById&&a&&i?(n=e.getElementById(o))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:N.call(a&&!i&&e.getElementsByClassName?r?e.getElementsByClassName(o):e.getElementsByTagName(t):e.querySelectorAll(t))},S.contains=L.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},S.type=u,S.isFunction=a,S.isWindow=o,S.isArray=Z,S.isPlainObject=l,S.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},S.isNumeric=function(e){var t=Number(e),n=typeof e;return null!=e&&"boolean"!=n&&("string"!=n||e.length)&&!isNaN(t)&&isFinite(t)||!1},S.inArray=function(e,t,n){return E.indexOf.call(t,e,n)},S.camelCase=w,S.trim=function(e){return null==e?"":String.prototype.trim.call(e)},S.uuid=0,S.support={},S.expr={},S.noop=function(){},S.map=function(e,t){var n,i,r,o,a=[];if(d(e))for(i=0;i<e.length;i++)null!=(n=t(e[i],i))&&a.push(n);else for(r in e)null!=(n=t(e[r],r))&&a.push(n);return 0<(o=a).length?S.fn.concat.apply([],o):o},S.each=function(e,t){var n,i;if(d(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(i in e)if(!1===t.call(e[i],i,e[i]))return e;return e},S.grep=function(e,t){return k.call(e,t)},c.JSON&&(S.parseJSON=JSON.parse),S.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){R["[object "+t+"]"]=t.toLowerCase()}),S.fn={constructor:W.Z,length:0,forEach:E.forEach,reduce:E.reduce,push:E.push,sort:E.sort,splice:E.splice,indexOf:E.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=W.isZ(t)?t.toArray():t;return $.apply(W.isZ(this)?this.toArray():this,n)},map:function(n){return S(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return S(N.apply(this,arguments))},ready:function(e){return V.test(L.readyState)&&L.body?e(S):L.addEventListener("DOMContentLoaded",function(){e(S)},!1),this},get:function(e){return e===j?N.call(this):this[0<=e?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(n){return E.every.call(this,function(e,t){return!1!==n.call(e,t,e)}),this},filter:function(t){return a(t)?this.not(this.not(t)):S(k.call(this,function(e){return W.matches(e,t)}))},add:function(e,t){return S(T(this.concat(S(e,t))))},is:function(e){return 0<this.length&&W.matches(this[0],e)},not:function(t){var n=[];if(a(t)&&t.call!==j)this.each(function(e){t.call(this,e)||n.push(this)});else{var i="string"==typeof t?this.filter(t):d(t)&&a(t.item)?N.call(t):S(t);this.forEach(function(e){i.indexOf(e)<0&&n.push(e)})}return S(n)},has:function(e){return this.filter(function(){return r(e)?S.contains(this,e):S(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!r(e)?e:S(e)},last:function(){var e=this[this.length-1];return e&&!r(e)?e:S(e)},find:function(e){var n=this;return e?"object"==typeof e?S(e).filter(function(){var t=this;return E.some.call(n,function(e){return S.contains(e,t)})}):1==this.length?S(W.qsa(this[0],e)):this.map(function(){return W.qsa(this,e)}):S()},closest:function(n,i){var r=[],o="object"==typeof n&&S(n);return this.each(function(e,t){for(;t&&!(o?0<=o.indexOf(t):W.matches(t,n));)t=t!==i&&!s(t)&&t.parentNode;t&&r.indexOf(t)<0&&r.push(t)}),S(r)},parents:function(e){for(var t=[],n=this;0<n.length;)n=S.map(n,function(e){return(e=e.parentNode)&&!s(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return m(t,e)},parent:function(e){return m(T(this.pluck("parentNode")),e)},children:function(e){return m(this.map(function(){return i(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||N.call(this.childNodes)})},siblings:function(e){return m(this.map(function(e,t){return k.call(i(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return S.map(this,function(e){return e[t]})},show:function(){return this.each(function(){var e,t,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(e=this.nodeName,_[e]||(t=L.createElement(e),L.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),_[e]=n),_[e]))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(t){var n=a(t);if(this[0]&&!n)var i=S(t).get(0),r=i.parentNode||1<this.length;return this.each(function(e){S(this).wrapAll(n?t.call(this,e):r?i.cloneNode(!0):i)})},wrapAll:function(e){if(this[0]){S(this[0]).before(e=S(e));for(var t;(t=e.children()).length;)e=t.first();S(e).append(this)}return this},wrapInner:function(r){var o=a(r);return this.each(function(e){var t=S(this),n=t.contents(),i=o?r.call(this,e):r;n.length?n.wrapAll(i):t.append(i)})},unwrap:function(){return this.parent().each(function(){S(this).replaceWith(S(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=S(this);(t===j?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(e){return S(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return S(this.pluck("nextElementSibling")).filter(e||"*")},html:function(n){return 0 in arguments?this.each(function(e){var t=this.innerHTML;S(this).empty().append(v(this,n,e,t))}):0 in this?this[0].innerHTML:null},text:function(n){return 0 in arguments?this.each(function(e){var t=v(this,n,e,this.textContent);this.textContent=null==t?"":""+t}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,n){var e;return"string"!=typeof t||1 in arguments?this.each(function(e){if(1===this.nodeType)if(r(t))for(x in t)g(this,x,t[x]);else g(this,t,v(this,n,e,this.getAttribute(t)))}):0 in this&&1==this[0].nodeType&&null!=(e=this[0].getAttribute(t))?e:j},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){g(this,e)},this)})},prop:function(t,n){return t=U[t]||t,1 in arguments?this.each(function(e){this[t]=v(this,n,e,this[t])}):this[0]&&this[0][t]},removeProp:function(e){return e=U[e]||e,this.each(function(){delete this[e]})},data:function(e,t){var n="data-"+e.replace(q,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,t):this.attr(n);return null!==i?b(i):j},val:function(t){return 0 in arguments?(null==t&&(t=""),this.each(function(e){this.value=v(this,t,e,this.value)})):this[0]&&(this[0].multiple?S(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(o){if(o)return this.each(function(e){var t=S(this),n=v(this,o,e,t.offset()),i=t.offsetParent().offset(),r={top:n.top-i.top,left:n.left-i.left};"static"==t.css("position")&&(r.position="relative"),t.css(r)});if(!this.length)return null;if(L.documentElement!==this[0]&&!S.contains(L.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+c.pageXOffset,top:e.top+c.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,t){if(arguments.length<2){var n=this[0];if("string"==typeof e){if(!n)return;return n.style[w(e)]||getComputedStyle(n,"").getPropertyValue(e)}if(Z(e)){if(!n)return;var i={},r=getComputedStyle(n,"");return S.each(e,function(e,t){i[t]=n.style[w(t)]||r.getPropertyValue(t)}),i}}var o="";if("string"==u(e))t||0===t?o=f(e)+":"+h(e,t):this.each(function(){this.style.removeProperty(f(e))});else for(x in e)e[x]||0===e[x]?o+=f(x)+":"+h(x,e[x])+";":this.each(function(){this.style.removeProperty(f(x))});return this.each(function(){this.style.cssText+=";"+o})},index:function(e){return e?this.indexOf(S(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&E.some.call(this,function(e){return this.test(y(e))},n(e))},addClass:function(n){return n?this.each(function(e){if("className"in this){C=[];var t=y(this);v(this,n,e,t).split(/\s+/g).forEach(function(e){S(this).hasClass(e)||C.push(e)},this),C.length&&y(this,t+(t?" ":"")+C.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===j)return y(this,"");C=y(this),v(this,t,e,C).split(/\s+/g).forEach(function(e){C=C.replace(n(e)," ")}),y(this,C.trim())}})},toggleClass:function(n,i){return n?this.each(function(e){var t=S(this);v(this,n,e,y(this)).split(/\s+/g).forEach(function(e){(i===j?!t.hasClass(e):i)?t.addClass(e):t.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===j?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===j?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),i=A.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(S(e).css("margin-top"))||0,n.left-=parseFloat(S(e).css("margin-left"))||0,i.top+=parseFloat(S(t[0]).css("border-top-width"))||0,i.left+=parseFloat(S(t[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||L.body;e&&!A.test(e.nodeName)&&"static"==S(e).css("position");)e=e.offsetParent;return e})}},S.fn.detach=S.fn.remove,["width","height"].forEach(function(i){var r=i.replace(/./,function(e){return e[0].toUpperCase()});S.fn[i]=function(t){var e,n=this[0];return t===j?o(n)?n["inner"+r]:s(n)?n.documentElement["scroll"+r]:(e=this.offset())&&e[i]:this.each(function(e){(n=S(this)).css(i,v(this,t,e,n[i]()))})}}),["after","prepend","before","append"].forEach(function(t,a){var s=a%2;S.fn[t]=function(){var n,i,r=S.map(arguments,function(e){var t=[];return"array"==(n=u(e))?(e.forEach(function(e){return e.nodeType!==j?t.push(e):S.zepto.isZ(e)?t=t.concat(e.get()):void(t=t.concat(W.fragment(e)))}),t):"object"==n||null==e?e:W.fragment(e)}),o=1<this.length;return r.length<1?this:this.each(function(e,t){i=s?t:t.parentNode,t=0==a?t.nextSibling:1==a?t.firstChild:2==a?t:null;var n=S.contains(L.documentElement,i);r.forEach(function(e){if(o)e=e.cloneNode(!0);else if(!i)return S(e).remove();i.insertBefore(e,t),n&&function e(t,n){n(t);for(var i=0,r=t.childNodes.length;i<r;i++)e(t.childNodes[i],n)}(e,function(e){if(!(null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src)){var t=e.ownerDocument?e.ownerDocument.defaultView:c;t.eval.call(t,e.innerHTML)}})})})},S.fn[s?t+"To":"insert"+(a?"Before":"After")]=function(e){return S(e)[t](this),this}}),W.Z.prototype=p.prototype=S.fn,W.uniq=T,W.deserializeValue=b,S.zepto=W,S}();return c.Zepto=d,void 0===c.$&&(c.$=d),function(l){function d(e){return e._zid||(e._zid=t++)}function a(e,t,n,i){if((t=f(t)).ns)var r=(o=t.ns,new RegExp("(?:^| )"+o.replace(" "," .* ?")+"(?: |$)"));var o;return(S[d(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||r.test(e.ns))&&(!n||d(e.fn)===d(n))&&(!i||e.sel==i)})}function f(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function h(e,t){return e.del&&!n&&e.e in i||!!t}function p(e){return C[e]||n&&i[e]||e}function u(r,e,t,o,a,s,c){var n=d(r),u=S[n]||(S[n]=[]);e.split(/\s/).forEach(function(e){if("ready"==e)return l(document).ready(t);var n=f(e);n.fn=t,n.sel=a,n.e in C&&(t=function(e){var t=e.relatedTarget;return!t||t!==this&&!l.contains(this,t)?n.fn.apply(this,arguments):void 0});var i=(n.del=s)||t;n.proxy=function(e){if(!(e=v(e)).isImmediatePropagationStopped()){e.data=o;var t=i.apply(r,e._args==y?[e]:[e].concat(e._args));return!1===t&&(e.preventDefault(),e.stopPropagation()),t}},n.i=u.length,u.push(n),"addEventListener"in r&&r.addEventListener(p(n.e),n.proxy,h(n,c))})}function m(t,e,n,i,r){var o=d(t);(e||"").split(/\s/).forEach(function(e){a(t,e,n,i).forEach(function(e){delete S[o][e.i],"removeEventListener"in t&&t.removeEventListener(p(e.e),e.proxy,h(e,r))})})}function v(i,r){return(r||!i.isDefaultPrevented)&&(r||(r=i),l.each(e,function(e,t){var n=r[e];i[e]=function(){return this[t]=s,n&&n.apply(r,arguments)},i[t]=w}),i.timeStamp||(i.timeStamp=Date.now()),(r.defaultPrevented!==y?r.defaultPrevented:"returnValue"in r?!1===r.returnValue:r.getPreventDefault&&r.getPreventDefault())&&(i.isDefaultPrevented=s)),i}function g(e){var t,n={originalEvent:e};for(t in e)r.test(t)||e[t]===y||(n[t]=e[t]);return v(n,e)}var y,t=1,b=Array.prototype.slice,j=l.isFunction,x=function(e){return"string"==typeof e},S={},o={},n="onfocusin"in c,i={focus:"focusin",blur:"focusout"},C={mouseenter:"mouseover",mouseleave:"mouseout"};o.click=o.mousedown=o.mouseup=o.mousemove="MouseEvents",l.event={add:u,remove:m},l.proxy=function(e,t){var n=2 in arguments&&b.call(arguments,2);if(j(e)){var i=function(){return e.apply(t,n?n.concat(b.call(arguments)):arguments)};return i._zid=d(e),i}if(x(t))return n?(n.unshift(e[t],e),l.proxy.apply(null,n)):l.proxy(e[t],e);throw new TypeError("expected function")},l.fn.bind=function(e,t,n){return this.on(e,t,n)},l.fn.unbind=function(e,t){return this.off(e,t)},l.fn.one=function(e,t,n,i){return this.on(e,t,n,i,1)};var s=function(){return!0},w=function(){return!1},r=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,e={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};l.fn.delegate=function(e,t,n){return this.on(t,e,n)},l.fn.undelegate=function(e,t,n){return this.off(t,e,n)},l.fn.live=function(e,t){return l(document.body).delegate(this.selector,e,t),this},l.fn.die=function(e,t){return l(document.body).undelegate(this.selector,e,t),this},l.fn.on=function(t,r,n,o,a){var s,c,i=this;return t&&!x(t)?(l.each(t,function(e,t){i.on(e,r,n,t,a)}),i):(x(r)||j(o)||!1===o||(o=n,n=r,r=y),(o===y||!1===n)&&(o=n,n=y),!1===o&&(o=w),i.each(function(e,i){a&&(s=function(e){return m(i,e.type,o),o.apply(this,arguments)}),r&&(c=function(e){var t,n=l(e.target).closest(r,i).get(0);return n&&n!==i?(t=l.extend(g(e),{currentTarget:n,liveFired:i}),(s||o).apply(n,[t].concat(b.call(arguments,1)))):void 0}),u(i,t,o,n,r,c||s)}))},l.fn.off=function(e,n,t){var i=this;return e&&!x(e)?(l.each(e,function(e,t){i.off(e,n,t)}),i):(x(n)||j(t)||!1===t||(t=n,n=y),!1===t&&(t=w),i.each(function(){m(this,e,t,n)}))},l.fn.trigger=function(e,t){return(e=x(e)||l.isPlainObject(e)?l.Event(e):v(e))._args=t,this.each(function(){e.type in i&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):l(this).triggerHandler(e,t)})},l.fn.triggerHandler=function(n,i){var r,o;return this.each(function(e,t){(r=g(x(n)?l.Event(n):n))._args=i,r.target=t,l.each(a(t,n.type||n),function(e,t){return o=t.proxy(r),!r.isImmediatePropagationStopped()&&void 0})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){l.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),l.Event=function(e,t){x(e)||(e=(t=e).type);var n=document.createEvent(o[e]||"Events"),i=!0;if(t)for(var r in t)"bubbles"==r?i=!!t[r]:n[r]=t[r];return n.initEvent(e,i,!0),v(n)}}(d),function(Ch){function Eh(e,t,n,i){return e.global?(r=t||Vh,o=n,a=i,s=Ch.Event(o),Ch(r).trigger(s,a),!s.isDefaultPrevented()):void 0;var r,o,a,s}function Hh(e,t){var n=t.context;return!1!==t.beforeSend.call(n,e,t)&&!1!==Eh(t,n,"ajaxBeforeSend",[e,t])&&void Eh(t,n,"ajaxSend",[e,t])}function Ih(e,t,n,i){var r=n.context,o="success";n.success.call(r,e,o,t),i&&i.resolveWith(r,[e,o,t]),Eh(n,r,"ajaxSuccess",[t,n,e]),Kh(o,t,n)}function Jh(e,t,n,i,r){var o=i.context;i.error.call(o,n,t,e),r&&r.rejectWith(o,[n,t,e]),Eh(i,o,"ajaxError",[n,i,e||t]),Kh(t,n,i)}function Kh(e,t,n){var i,r=n.context;n.complete.call(r,t,e),Eh(n,r,"ajaxComplete",[t,n]),(i=n).global&&!--Ch.active&&Eh(i,null,"ajaxStop")}function Mh(){}function Oh(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function Qh(e,t,n,i){return Ch.isFunction(t)&&(i=n,n=t,t=void 0),Ch.isFunction(n)||(i=n,n=void 0),{url:e,data:t,success:n,dataType:i}}var Sh,Th,Uh=+new Date,Vh=c.document,Wh=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Xh=/^(?:text|application)\/javascript/i,Yh=/^(?:text|application)\/xml/i,Zh="application/json",$h="text/html",_h=/^\s*$/,ai=Vh.createElement("a");ai.href=c.location.href,Ch.active=0,Ch.ajaxJSONP=function(n,i){if(!("type"in n))return Ch.ajax(n);var r,o,e=n.jsonpCallback,a=(Ch.isFunction(e)?e():e)||"Zepto"+Uh++,s=Vh.createElement("script"),u=c[a],t=function(e){Ch(s).triggerHandler("error",e||"abort")},l={abort:t};return i&&i.promise(l),Ch(s).on("load error",function(e,t){clearTimeout(o),Ch(s).off().remove(),"error"!=e.type&&r?Ih(r[0],l,n,i):Jh(null,t||"error",l,n,i),c[a]=u,r&&Ch.isFunction(u)&&u(r[0]),u=r=void 0}),!1===Hh(l,n)?t("abort"):(c[a]=function(){r=arguments},s.src=n.url.replace(/\?(.+)=\?/,"?$1="+a),Vh.head.appendChild(s),0<n.timeout&&(o=setTimeout(function(){t("timeout")},n.timeout))),l},Ch.ajaxSettings={type:"GET",beforeSend:Mh,success:Mh,error:Mh,complete:Mh,context:null,global:!0,xhr:function(){return new c.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:Zh,xml:"application/xml, text/xml",html:$h,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:Mh},Ch.ajax=function(lj){var mj,nj,Mi,ki,oj=Ch.extend({},lj||{}),pj=Ch.Deferred&&Ch.Deferred();for(Sh in Ch.ajaxSettings)void 0===oj[Sh]&&(oj[Sh]=Ch.ajaxSettings[Sh]);(ki=oj).global&&0==Ch.active++&&Eh(ki,null,"ajaxStart"),oj.crossDomain||((mj=Vh.createElement("a")).href=oj.url,mj.href=mj.href,oj.crossDomain=ai.protocol+"//"+ai.host!=mj.protocol+"//"+mj.host),oj.url||(oj.url=c.location.toString()),-1<(nj=oj.url.indexOf("#"))&&(oj.url=oj.url.slice(0,nj)),(Mi=oj).processData&&Mi.data&&"string"!=Ch.type(Mi.data)&&(Mi.data=Ch.param(Mi.data,Mi.traditional)),!Mi.data||Mi.type&&"GET"!=Mi.type.toUpperCase()&&"jsonp"!=Mi.dataType||(Mi.url=Oh(Mi.url,Mi.data),Mi.data=void 0);var qj=oj.dataType,rj=/\?.+=\?/.test(oj.url);if(rj&&(qj="jsonp"),!1!==oj.cache&&(lj&&!0===lj.cache||"script"!=qj&&"jsonp"!=qj)||(oj.url=Oh(oj.url,"_="+Date.now())),"jsonp"==qj)return rj||(oj.url=Oh(oj.url,oj.jsonp?oj.jsonp+"=?":!1===oj.jsonp?"":"callback=?")),Ch.ajaxJSONP(oj,pj);var sj,tj=oj.accepts[qj],uj={},vj=function(e,t){uj[e.toLowerCase()]=[e,t]},wj=/^([\w-]+:)\/\//.test(oj.url)?RegExp.$1:c.location.protocol,xj=oj.xhr(),yj=xj.setRequestHeader;if(pj&&pj.promise(xj),oj.crossDomain||vj("X-Requested-With","XMLHttpRequest"),vj("Accept",tj||"*/*"),(tj=oj.mimeType||tj)&&(-1<tj.indexOf(",")&&(tj=tj.split(",",2)[0]),xj.overrideMimeType&&xj.overrideMimeType(tj)),(oj.contentType||!1!==oj.contentType&&oj.data&&"GET"!=oj.type.toUpperCase())&&vj("Content-Type",oj.contentType||"application/x-www-form-urlencoded"),oj.headers)for(Th in oj.headers)vj(Th,oj.headers[Th]);if(xj.setRequestHeader=vj,!(xj.onreadystatechange=function(){if(4==xj.readyState){xj.onreadystatechange=Mh,clearTimeout(sj);var Cj,Dj=!1;if(200<=xj.status&&xj.status<300||304==xj.status||0==xj.status&&"file:"==wj){if(qj=qj||((Ji=oj.mimeType||xj.getResponseHeader("content-type"))&&(Ji=Ji.split(";",2)[0]),Ji&&(Ji==$h?"html":Ji==Zh?"json":Xh.test(Ji)?"script":Yh.test(Ji)&&"xml")||"text"),"arraybuffer"==xj.responseType||"blob"==xj.responseType)Cj=xj.response;else{Cj=xj.responseText;try{Cj=function(e,t,n){if(n.dataFilter==Mh)return e;var i=n.context;return n.dataFilter.call(i,e,t)}(Cj,qj,oj),"script"==qj?eval(Cj):"xml"==qj?Cj=xj.responseXML:"json"==qj&&(Cj=_h.test(Cj)?null:Ch.parseJSON(Cj))}catch(e){Dj=e}if(Dj)return Jh(Dj,"parsererror",xj,oj,pj)}Ih(Cj,xj,oj,pj)}else Jh(xj.statusText||null,xj.status?"error":"abort",xj,oj,pj)}var Ji})===Hh(xj,oj))return xj.abort(),Jh(null,"abort",xj,oj,pj),xj;var zj=!("async"in oj)||oj.async;if(xj.open(oj.type,oj.url,zj,oj.username,oj.password),oj.xhrFields)for(Th in oj.xhrFields)xj[Th]=oj.xhrFields[Th];for(Th in uj)yj.apply(xj,uj[Th]);return 0<oj.timeout&&(sj=setTimeout(function(){xj.onreadystatechange=Mh,xj.abort(),Jh(null,"timeout",xj,oj,pj)},oj.timeout)),xj.send(oj.data?oj.data:null),xj},Ch.get=function(){return Ch.ajax(Qh.apply(null,arguments))},Ch.post=function(){var e=Qh.apply(null,arguments);return e.type="POST",Ch.ajax(e)},Ch.getJSON=function(){var e=Qh.apply(null,arguments);return e.dataType="json",Ch.ajax(e)},Ch.fn.load=function(e,t,n){if(!this.length)return this;var i,r=this,o=e.split(/\s/),a=Qh(e,t,n),s=a.success;return 1<o.length&&(a.url=o[0],i=o[1]),a.success=function(e){r.html(i?Ch("<div>").html(e.replace(Wh,"")).find(i):e),s&&s.apply(r,arguments)},Ch.ajax(a),this};var bi=encodeURIComponent;Ch.param=function(e,t){var n=[];return n.add=function(e,t){Ch.isFunction(t)&&(t=t()),null==t&&(t=""),this.push(bi(e)+"="+bi(t))},function n(i,e,r,o){var a,s=Ch.isArray(e),c=Ch.isPlainObject(e);Ch.each(e,function(e,t){a=Ch.type(t),o&&(e=r?o:o+"["+(c||"object"==a||"array"==a?e:"")+"]"),!o&&s?i.add(t.name,t.value):"array"==a||!r&&"object"==a?n(i,t,r,e):i.add(e,t)})}(n,e,t),n.join("&").replace(/%20/g,"+")}}(d),(Vj=d).fn.serializeArray=function(){var n,i,t=[],r=function(e){return e.forEach?e.forEach(r):void t.push({name:n,value:e})};return this[0]&&Vj.each(this[0].elements,function(e,t){i=t.type,(n=t.name)&&"fieldset"!=t.nodeName.toLowerCase()&&!t.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&"file"!=i&&("radio"!=i&&"checkbox"!=i||t.checked)&&r(Vj(t).val())}),t},Vj.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},Vj.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var t=Vj.Event("submit");this.eq(0).trigger(t),t.isDefaultPrevented()||this.get(0).submit()}return this},function(){try{getComputedStyle(void 0)}catch(e){var n=getComputedStyle;c.getComputedStyle=function(e,t){try{return n(e,t)}catch(e){return null}}}}(),d});var base={setLocalStorage:function(e,t){window.localStorage[e]=JSON.stringify(t)},getLocalStorage:function(e){return JSON.parse(window.localStorage[e]||null)},setSessionStorage:function(e,t){window.sessionStorage[e]=JSON.stringify(t)},getSessionStorage:function(e){return JSON.parse(window.sessionStorage[e]||null)},textCount:function(e){e.value=e.value.replace(/^(.{500}).*$/,"$1")},sealCount:function(e){e.value=e.value.replace(/^(.{15}).*$/,"$1")},callApp:function(t){var e,n;-1<(n=navigator.userAgent.toLowerCase()).indexOf("iphone")||-1<n.indexOf("ipad")?function(e){if(window.WebViewJavascriptBridge)return e(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var t=document.createElement("iframe");t.style.display="none",t.src="https://__bridge_loaded__",document.documentElement.appendChild(t),setTimeout(function(){document.documentElement.removeChild(t)},0)}(function(e){e.callHandler(t)}):(e=function(e){try{e.init(function(e,t){t({"Javascript Responds":"Wee!"})})}catch(e){}e.callHandler(t)},window.WebViewJavascriptBridge?e(WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",function(){e(WebViewJavascriptBridge)},!1))}};function getQueryParameter(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null}function urlWithoutUserid(){var e=location.href.replace(/(\?|&)userid=([^&]*)(&|$)/,"$1");return"&"!=(e=(e=(e=e.replace(/(\?|&)name=([^&]*)(&|$)/,"$1")).replace(/(\?|&)mobile=([^&]*)(&|$)/,"$1")).replace(/(\?|&)deptid=([^&]*)(&|$)/,"$1")).charAt(e.length-1)&&"?"!=e.charAt(e.length-1)||(e=e.substr(0,e.length-1)),e}function removeOrderNo(){var e=location.href.replace(/(\?|&)orderNo=([^&]*)(&|$)/,"$1");"&"!=e.charAt(e.length-1)&&"?"!=e.charAt(e.length-1)||(e=e.substr(0,e.length-1)),history.replaceState({},"",e)}function getUserid(){var e=sessionStorage.getItem("userid");return e||((e=getQueryParameter("userid"))?(e=decodeURIComponent(e),sessionStorage.setItem("userid",e),e):"")}function getCopyToFromStore(){var e=[],t=sessionStorage.getItem("copyTo");return t&&(e=JSON.parse(t)),e}function storeCopyTo(e){sessionStorage.setItem("copyTo",JSON.stringify(e))}function appendCopyTo(e,t,o){$.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/credit/element/dingtalk/getCopyUsers",data:{emlpid:e,deptid:t},success:function(e){if("SUCCESS"==e.code){for(var t=e.data,n=getCopyToFromStore(),i=t.length-1;0<=i;i--)for(var r=0;r<n.length;r++)if(t[i].uid==n[r].uid){t.splice(i,1);break}storeCopyTo(n=n.concat(t)),sessionStorage.getItem("goBack")&&(sessionStorage.setItem("goBack",""),history.go(-2)),o instanceof Function&&o(n)}else alert(e.msg)}})}function clearStore(){sessionStorage.setItem("copyTo",""),sessionStorage.setItem("auditors",""),sessionStorage.setItem("city",""),sessionStorage.setItem("docChoosenIds",""),sessionStorage.setItem("sealChoosenIds",""),sessionStorage.setItem("borrowDocDetail",""),sessionStorage.setItem("borrowSealDetail",""),sessionStorage.setItem("startTime",""),sessionStorage.setItem("endTime",""),sessionStorage.setItem("reason",""),sessionStorage.setItem("fileToSeal",""),sessionStorage.setItem("fileType",""),sessionStorage.setItem("sealFileCount",""),sessionStorage.setItem("fileImgUrl","")}function convertDateFromString(e){if(e){var t=e.split(" "),n=t[0].split("-"),i=t[1].split(":");return new Date(n[0],n[1]-1,n[2],i[0],i[1])}}function subtractTime(e,t){var n=convertDateFromString(e),i=convertDateFromString(t).getTime()-n.getTime();return i<=0?(toast("结束时间需大于开始时间!"),"根据选择的借用时间自动计算"):9999<(i=(i/36e5).toFixed(2))?(toast("借用时长太大,请正确选择时间!"),"根据选择的借用时间自动计算"):(i+"").replace(".00","")+"小时"}function subtractTime1(e,t){var n=convertDateFromString(e),i=convertDateFromString(t).getTime()-n.getTime();return i<=0?(toast("结束时间需大于开始时间!"),""):9999<(i=(i/36e5).toFixed(2))?(toast("借用时长太大,请正确选择时间!"),""):(i+"").replace(".00","")+"小时"}function subtractTime2(e,t,n){var i=convertDateFromString(e),r=convertDateFromString(t),o=convertDateFromString(n),a=r.getTime()-i.getTime();return r.getTime()-o.getTime()<=0?(toast("结束时间需大于上次结束时间!"),""):9999<(a=(a/36e5).toFixed(2))?(toast("借用时长太大,请正确选择时间!"),""):(a+"").replace(".00","")+"小时"}var verification={auditApply:function(e){var t=e.type;if(!t||t<1||4<t)return"审批类型不正确!";if(!e.beginTime||!e.endTime)return"请将借用时间填写完整!";var n=convertDateFromString(e.beginTime).getTime(),i=convertDateFromString(e.endTime).getTime();if(i<=n)return"结束时间需大于开始时间!";if(9999<(i-n)/36e5)return"借用时长过大!";if(3==t){if(!(e.publicSeal?JSON.parse(e.publicSeal):[]).length)return"请选择要借用的公章!";if(!e.fileToSeal)return"请填写用印的文件名称!";if(!e.fileType||"请选择"==e.fileType)return"请选择文件类别!";if(!(e.fileImgUrl?JSON.parse(e.fileImgUrl):[]).length)return"请上传文件图片!"}else{var r=e.receivableElement?JSON.parse(e.receivableElement):[],o=e.riskElement?JSON.parse(e.riskElement):[];if(!r.length&&!o.length)return"请选择要借用的要件!";if(""==e.reason)return"请填写提取要件原因"}return""}},alertFunc=function(e,t){var n='<div id="dialog" style="position:fixed;width:100%;height:100%;background:rgba(0,0,0,.6);top:0;z-index:9;"><div style="padding:1rem 2rem;background:#fff;border-radius:.4rem;margin:9rem 3rem 0;"><p style="text-align:center;">'+e+'</p><div style="margin-top:2rem;text-align:center;"><button style="background:#3396fb;border:0;color:#fff;position:relative;z-index:10;">确定</button></div></div></div>';$("body").append(n);var i=$("#dialog");i.on("touchmove",function(e){e.preventDefault()}),i.find("button").on("click",function(e){"function"==typeof t&&t(),i.remove()})},alertWithTwoBtnFunc=function(e,t){var n='<div id="dialog" style="position:fixed;width:100%;height:100%;background:rgba(0,0,0,.6);top:0;z-index:9;"><div style="padding:1rem 2rem;background:#fff;border-radius:.4rem;margin:9rem 3rem 0;"><p style="text-align:center;">'+e+'</p><div style="margin-top:2rem;text-align:center;"><span style="margin-right:1.5rem;"><button class="ok" style="background:#3396fb;border:0;color:#fff;position:relative;z-index:10;">确定</button></span><span><button class="cancel" style="background:#3396fb;border:0;color:#fff;position:relative;z-index:10;">取消</button></span></div></div></div>';$("body").append(n);var i=$("#dialog");i.on("touchmove",function(e){e.preventDefault()}),i.find("button.ok").on("click",function(e){i.remove(),"function"==typeof t&&t(!0)}),i.find("button.cancel").on("click",function(e){i.remove(),"function"==typeof t&&t(!1)})},toast=function(e){$("body").append('<div class="toast">'+e+"</div>");var t=$("div.toast");setTimeout(function(){t.remove()},2e3)};function setTitle(e){document.title=e;var t=$("body"),n=$("<iframe style='display:none;' src='./favicon.ico'></iframe>");n.on("load",function(){setTimeout(function(){n.off("load").remove()},0)}).appendTo(t)}function setupWebViewJavascriptBridge(e){if(window.WebViewJavascriptBridge)return e(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var t=document.createElement("iframe");t.style.display="none",t.src="https://__bridge_loaded__",document.documentElement.appendChild(t),setTimeout(function(){document.documentElement.removeChild(t)},0),setTimeout(function(){location.reload()},500)}$("button").on("touchstart",function(){$(this).prop("disabled")||$(this).addClass("active")}),$("button").on("touchend",function(){$(this).prop("disabled")||$(this).removeClass("active")}),function(e,t){"use strict";var n=function(){};n.prototype={params:{title:"",msg:"",buttons:["取消","确定"],input:!1},create:function(e,t){var n,i=this,r="",o=e.title?'<div class="aui-dialog-header">'+e.title+"</div>":'<div class="aui-dialog-header">'+i.params.title+"</div>";if(e.input){e.text=e.text?e.text:"";var a='<div class="aui-dialog-body"><input type="text" placeholder="'+e.text+'"></div>'}else a=e.msg?'<div class="aui-dialog-body">'+e.msg+"</div>":'<div class="aui-dialog-body">'+i.params.msg+"</div>";var s=e.buttons?e.buttons:i.params.buttons;if(s&&0<s.length)for(var c=0;c<s.length;c++)r+='<div class="aui-dialog-btn" tapmode button-index="'+c+'">'+s[c]+"</div>";n='<div class="aui-dialog">'+o+a+('<div class="aui-dialog-footer">'+r+"</div>")+"</div>",document.body.insertAdjacentHTML("beforeend",n);var u=document.querySelectorAll(".aui-dialog-btn");if(u&&0<u.length)for(var l=0;l<u.length;l++)u[l].onclick=function(){t&&(e.input?t({buttonIndex:parseInt(this.getAttribute("button-index"))+1,text:document.querySelector("input").value}):t({buttonIndex:parseInt(this.getAttribute("button-index"))+1})),i.close()};i.open()},open:function(){if(document.querySelector(".aui-dialog")){if(document.querySelector(".aui-dialog").style.marginTop="-"+Math.round(document.querySelector(".aui-dialog").offsetHeight/2)+"px",!document.querySelector(".aui-mask")){document.body.insertAdjacentHTML("beforeend",'<div class="aui-mask"></div>')}setTimeout(function(){document.querySelector(".aui-dialog").classList.add("aui-dialog-in"),document.querySelector(".aui-mask").classList.add("aui-mask-in"),document.querySelector(".aui-dialog").classList.add("aui-dialog-in")},10),document.querySelector(".aui-mask").addEventListener("touchmove",function(e){e.preventDefault()}),document.querySelector(".aui-dialog").addEventListener("touchmove",function(e){e.preventDefault()})}},close:function(){var e=this;document.querySelector(".aui-mask").classList.remove("aui-mask-in"),document.querySelector(".aui-dialog").classList.remove("aui-dialog-in"),document.querySelector(".aui-dialog").classList.add("aui-dialog-out"),document.querySelector(".aui-dialog:not(.aui-dialog-out)")?setTimeout(function(){return document.querySelector(".aui-dialog")&&document.querySelector(".aui-dialog").parentNode.removeChild(document.querySelector(".aui-dialog")),e.open(),!0},200):(document.querySelector(".aui-mask").classList.add("aui-mask-out"),document.querySelector(".aui-dialog").addEventListener("webkitTransitionEnd",function(){e.remove()}),document.querySelector(".aui-dialog").addEventListener("transitionend",function(){e.remove()}))},remove:function(){return document.querySelector(".aui-dialog")&&document.querySelector(".aui-dialog").parentNode.removeChild(document.querySelector(".aui-dialog")),document.querySelector(".aui-mask")&&document.querySelector(".aui-mask").classList.remove("aui-mask-out"),!0},alert:function(e,t){return this.create(e,t)},prompt:function(e,t){return e.input=!0,this.create(e,t)}},e.auiDialog=n}(window),localStorage.clear(),sessionStorage.clear(),$(function(){var e=getQueryParameter("id"),t=getQueryParameter("uid"),n=getQueryParameter("deviceId");$("#tiaozhuanbut").click(function(){window.location.href="borrow_doc_time.html?id="+e+"&uid="+t+"&deviceId="+n})});var dialog=new auiDialog({});function aaF(){dialog.alert({title:"提示",msg:"你确定要撤销申请吗？",buttons:["取消","确定"]},function(e){if(2==e.buttonIndex){var t=getQueryParameter("id");$.ajax({type:"POST",contentType:"application/json",dataType:"json",url:"/credit/element/dingtalk/cancelBorrowAudit",data:JSON.stringify({dbId:t+""}),success:function(e){"SUCCESS"==e.code?setupWebViewJavascriptBridge(function(e){e.callHandler("confirmAgree")}):(alertFunc(e.msg),setTimeout(function(){location.reload()},500))}})}})}function bbF(){var e=getQueryParameter("uid"),t=getQueryParameter("deviceId"),n=base.getSessionStorage("sessionJson");window.location.href="borrow_doc_detail.html?uid="+e+"&deviceId="+t+"&auditType="+n.type+"&orderNo="+n.orderNo+"&id="+n.id}var _createClass=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var AuditDetail=function(){function e(){_classCallCheck(this,e),this.id=getQueryParameter("id"),this.orderNo=getQueryParameter("orderNo"),this.uid=getQueryParameter("uid"),this.deviceId=getQueryParameter("deviceId"),this.msgid=getQueryParameter("msgId"),this.userid=getUserid()}return _createClass(e,[{key:"initFunc",value:function(){this.requestFunc(),this.clickFunc()}},{key:"requestFunc",value:function(){var t=this;$.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/credit/element/dingtalk/auditDetail?"+(new Date).getTime(),data:{id:t.id,userid:t.userid?t.userid:"",uid:t.uid,deviceId:t.deviceId,orderNo:t.orderNo,msgid:t.msgid},success:function(e){"SUCCESS"==e.code?t.KVCFunc(e.data):alertFunc(e.msg)}})}},{key:"KVCFunc",value:function(e){if(e.newEndTime&&($(".yanchang").show(),$("#timetit").text("原要件借用时间"),$("#timetit2").text("原要件借用原因"),$("#timetit3").text("原审批意见"),$("#startTime2").text(e.beginTime),$("#endTime2").text(e.newEndTime),$("#borrowDay2").text(subtractTime(e.beginTime,e.newEndTime)),e.extendReason&&$("#reason2").html(e.extendReason)),e.newEndTime)var t=e.newEndTime;else t=e.endTime;if(e.auditList[0].current&&0==e.state&&($("#twobut").html('<span id="cancelOrder" onclick="aaF()">撤销</span><span onclick="bbF()">修改</span>'),sessionStorage.setItem("startTime",e.beginTime),sessionStorage.setItem("endTime",t),e.extendReason?sessionStorage.setItem("reason",e.extendReason):sessionStorage.setItem("reason",e.reason),e.type&&e.orderNo)){var n={type:e.type,orderNo:e.orderNo,id:e.id};base.setSessionStorage("sessionJson",n)}if(e.auditList[0].current&&1==e.state&&!e.newEndTime){$("#tiaozhuanbut").html("<div>延长借用时间</div>");var i={startTime:e.beginTime,endTime:t,borrowDay:e.borrowDay};base.setLocalStorage("lastTime",i),e.type&&base.setLocalStorage("type",e.type),e.city&&sessionStorage.setItem("city",e.city),e.orderNo&&sessionStorage.setItem("orderNo",e.orderNo),e.copysList&&base.setSessionStorage("copyTo",e.copysList),e.auditorsList&&(e.auditorsList.forEach(function(e){return e.username=e.name,e}),base.setSessionStorage("auditors",e.auditorsList))}e.id&&(this.id||history.replaceState({},"",location.href+"&id="+e.id),this.id=e.id),e.title&&setTitle(e.title.replace("审批","申请")),this.uid=e.uid,this.level=e.level;var r=e.applierName;if($("#applierName").html(e.applierName),r){var o=r.substr(r.length-2,2),a=$("#applierHead");a.find("font").html(o),a.addClass("img_bg_color_"+r.charCodeAt(0)%3)}$("#customerName").html(e.customerName),e.reason&&$("#reason").html(e.reason),$("#startTime").html(e.beginTime),$("#endTime").html(e.endTime),$("#borrowDay").html(e.borrowDay?e.borrowDay.toFixed(2)+"小时":"小时");var s=[];if(e.receivableElement&&0<e.receivableElement.length)for(var c=0;c<e.receivableElement.length;c++)7!=e.receivableElement[c].status&&s.push(this.convertEle(e.receivableElement[c]));var u=[];if(e.riskElement&&0<e.riskElement.length)for(var l=0;l<e.riskElement.length;l++)7!=e.riskElement[l].status&&u.push(this.convertEle(e.riskElement[l]));if(0<s.length)for(var d=0;d<s.length;d++)s[d].radio?this.appendRadioEle(s[d],2):this.appendNoRadioEle(s[d],2);else $("#receivableElementContainer").html("");if(0<u.length)for(var f=0;f<u.length;f++)u[f].radio?this.appendRadioEle(u[f],1):this.appendNoRadioEle(u[f],1);else $("#riskElementsContainer").html("");3==e.state&&e.auditList.push({name:e.auditList[0].name,current:e.auditList[0].current,stateStr:"已撤销"});for(var h=!1,p=0;p<e.auditList.length;p++)e.auditList[p].hasOwnProperty("auditLevel")&&1==e.auditList[p].auditLevel&&"审批中"==e.auditList[p].stateStr&&(h=!0),this.appendAuditor(e.auditList[p],"#auditors");if(e.extendAuditList)for(var m=0;m<e.extendAuditList.length;m++)e.extendAuditList[m].hasOwnProperty("auditLevel")&&1==e.extendAuditList[m].auditLevel&&"审批中"==e.extendAuditList[m].stateStr&&(h=!0),this.appendAuditor(e.extendAuditList[m],"#auditors3");if(h||$("#twobut").remove(),e.copyList)for(var v=0;v<e.copyList.length;v++)this.appendCopyTo(e.copyList[v]);else $("#copyContainer").html("");if(e.auditing&&$("#auditors2").append('<div style="padding-left:0;" class="btn-group text_center"><span style="position:relative;" class="color_0cbbd3 audit">同意</span><span style="position:relative;" class="color_0cbbd3 audit">拒绝</span><span style="position:relative;" class="color_0cbbd3 audit">转交</span></div>'),!e.myState)switch(e.state){case 0:e.myState=e.currentAuditor+"审批中";break;case 1:e.myState="已审批通过";break;case 2:e.myState="审批未通过";break;case 3:e.myState="已撤销"}switch($("#myState").html(e.myState),-1<e.myState.indexOf("待")||-1<e.myState.indexOf("审批中")||-1<e.myState.indexOf("已转交")?$("#myState").addClass("color_wait"):-1<e.myState.indexOf("已同意")||-1<e.myState.indexOf("审批通过")?$("#myState").addClass("color_succ"):$("#myState").addClass("color_fail"),e.state){case 0:break;case 1:$("div.headerPart").append('<span class="succ_icon"></span>');break;case 2:$("div.headerPart").append('<span class="fail_icon"></span>');break;case 3:$("div.headerPart").append('<span class="cx_icon"></span>')}}},{key:"convertEle",value:function(e,t){var n={title:e.title,id:e.value,radio:!1,valueList:[],flag:e.flag};-1<e.formClasses.indexOf("Radio")&&(n.radio=!0);for(var i=0;i<e.data.length;i++){var r={title:e.data[i].title,value:e.data[i].value};n.valueList.push(r)}return n}},{key:"appendNoRadioEle",value:function(e,t){var n="";e.flag||(n=" class='dis'");for(var i="<div"+n+'><p class="font_bold"><span></span>'+e.title+"</p>",r=0;r<e.valueList.length;r++)i+="<p><font>"+e.valueList[r].title+"</font><font>"+e.valueList[r].value+"</font></p>";i+="</div></div>",1==t&&$("#riskElements").append(i),2==t&&$("#receivableElements").append(i)}},{key:"appendRadioEle",value:function(e,t){var n="";e.flag||(n=" class='dis'");var i="<div"+n+'><p class="font_bold"><span></span>'+e.title+"</p></div>";1==t&&$("#riskElements").append(i),2==t&&$("#receivableElements").append(i)}},{key:"appendAuditor",value:function(e,t){e.colorClz=e.name?"img_bg_color_"+e.name.charCodeAt(0)%3:"img_bg_color_1",e.name&&(e.headName=e.name.substr(e.name.length-2,2)),e.current&&(e.name="我");var n='<div><span class="heafImgContainer '+e.colorClz+'"><font class="no_img" style="margin-right:0;top: .3rem;">'+e.headName+"</font></span><font>"+e.name+'</font><font style="padding-left:.25rem">'+e.stateStr+"</font></div>",i='<div><span class="heafImgContainer '+e.colorClz+'"><font class="no_img" style="margin-right:0;top: .3rem;">'+e.headName+"</font></span><font>"+e.name+'</font><font class="color_wait">'+e.stateStr+"</font></div>",r='<div><span class="heafImgContainer '+e.colorClz+'"><font class="no_img" style="margin-right:0;top: .3rem;">'+e.headName+"</font></span><font>"+e.name+'</font><font class="color_succ">'+e.stateStr+"</font></div>",o='<div><span class="heafImgContainer '+e.colorClz+'"><font class="no_img" style="margin-right:0;top: .3rem;">'+e.headName+"</font></span><font>"+e.name+'</font><font class="color_fail">'+e.stateStr+"</font></div>",a="";switch(e.stateStr){case"发起审批":a=n;break;case"审批中":a=i;break;case"已同意":a=r;break;case"已拒绝":a=o;break;default:a=i}$(t).append(a),e.remark&&$(t).append('<div style="margin-top:-0.8rem;padding-right:0.8rem;margin-bottom:-0.6rem"><font style="font-size:0.6rem;">'+e.remark+"</font></div>")}},{key:"appendCopyTo",value:function(e){e.colorClz=e.name?"img_bg_color_"+e.name.charCodeAt(0)%3:"img_bg_color_1",e.name&&(e.headName=e.name.substr(e.name.length-2,2));var t='<div class="aui-col-xs-2 userInfo"><div><span class="heafImgContainer '+e.colorClz+' head_no_img_span"><font class="no_img" style="margin-right:0;">'+e.headName+'</font></span></div><p class="color_999 font_055" style="padding-left: 0;">'+e.name+"</p></div>";$("#copyList").append(t)}},{key:"clickFunc",value:function(){var t=this;$("#auditors2").on("click","span.audit",function(){var e="/elementH5/template/approval_option.html";"同意"==$(this).html()?window.location.href=e+"?pass=1&id="+t.id+"&userid="+t.userid+"&uid="+t.uid+"&deviceId="+t.deviceId:"拒绝"==$(this).html()?window.location.href=e+"?pass=0&id="+t.id+"&userid="+t.userid+"&uid="+t.uid+"&deviceId="+t.deviceId:"转交"==$(this).html()&&(window.location.href="/elementH5/template/choice_approval_person.html?auditing=true&id="+t.id+"&uid="+t.uid+"&level="+t.level)})}}]),e}();$(function(){(new AuditDetail).initFunc(),window.name="approvalDoc",setInterval(function(){"approvalDoc"!=window.name&&(window.name="approvalDoc",location.reload())},100)});
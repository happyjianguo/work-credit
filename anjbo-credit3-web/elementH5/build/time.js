!function(e,t){"function"==typeof define&&define.amd?define(function(){return t(e)}):t(e)}(this,function(c){var Wj,d=function(){function l(e){return null==e?String(e):U[H.call(e)]||"object"}function o(e){return"function"==l(e)}function a(e){return null!=e&&e==e.window}function s(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function i(e){return"object"==l(e)}function d(e){return i(e)&&!a(e)&&Object.getPrototypeOf(e)==Object.prototype}function u(e){var t=!!e&&"length"in e&&e.length,n=S.type(e);return"function"!=n&&!a(e)&&("array"==n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function h(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function n(e){return e in t?t[e]:t[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function f(e,t){return"number"!=typeof t||I[h(e)]?t:t+"px"}function r(e){return"children"in e?$.call(e.children):S.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function p(e,t){var n,r=e?e.length:0;for(n=0;n<r;n++)this[n]=e[n];this.length=r,this.selector=t||""}function v(e,t){return null==t?S(e):S(e).filter(t)}function m(e,t,n,r){return o(t)?t.call(e,n,r):t}function g(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function y(e,t){var n=e.className||"",r=n&&n.baseVal!==j;return t===j?r?n.baseVal:n:void(r?n.baseVal=t:e.className=t)}function b(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?S.parseJSON(t):t):t}catch(e){return t}}var j,_,S,D,x,T,E=[],w=E.concat,C=E.filter,$=E.slice,A=c.document,N={},t={},I={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},L=/^\s*<(\w+|!)[^>]*>/,k=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,q=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,M=/^(?:body|html)$/i,O=/([A-Z])/g,P=["val","css","html","text","data","width","height","offset"],e=A.createElement("table"),F=A.createElement("tr"),J={tr:A.createElement("tbody"),tbody:e,thead:e,tfoot:e,td:F,th:F,"*":A.createElement("div")},W=/complete|loaded|interactive/,B=/^[\w-]*$/,U={},H=U.toString,R={},V=A.createElement("div"),Y={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},z=Array.isArray||function(e){return e instanceof Array};return R.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,a=!i;return a&&(i=V).appendChild(e),r=~R.qsa(i,t).indexOf(e),a&&V.removeChild(e),r},x=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},T=function(n){return C.call(n,function(e,t){return n.indexOf(e)==t})},R.fragment=function(e,t,n){var r,i,a;return k.test(e)&&(r=S(A.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(q,"<$1></$2>")),t===j&&(t=L.test(e)&&RegExp.$1),t in J||(t="*"),(a=J[t]).innerHTML=""+e,r=S.each($.call(a.childNodes),function(){a.removeChild(this)})),d(n)&&(i=S(r),S.each(n,function(e,t){-1<P.indexOf(e)?i[e](t):i.attr(e,t)})),r},R.Z=function(e,t){return new p(e,t)},R.isZ=function(e){return e instanceof R.Z},R.init=function(e,t){var n,r;if(!e)return R.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&L.test(e))n=R.fragment(e,RegExp.$1,t),e=null;else{if(t!==j)return S(t).find(e);n=R.qsa(A,e)}else{if(o(e))return S(A).ready(e);if(R.isZ(e))return e;if(z(e))r=e,n=C.call(r,function(e){return null!=e});else if(i(e))n=[e],e=null;else if(L.test(e))n=R.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==j)return S(t).find(e);n=R.qsa(A,e)}}return R.Z(n,e)},(S=function(e,t){return R.init(e,t)}).extend=function(t){var n,e=$.call(arguments,1);return"boolean"==typeof t&&(n=t,t=e.shift()),e.forEach(function(e){!function e(t,n,r){for(_ in n)r&&(d(n[_])||z(n[_]))?(d(n[_])&&!d(t[_])&&(t[_]={}),z(n[_])&&!z(t[_])&&(t[_]=[]),e(t[_],n[_],r)):n[_]!==j&&(t[_]=n[_])}(t,e,n)}),t},R.qsa=function(e,t){var n,r="#"==t[0],i=!r&&"."==t[0],a=r||i?t.slice(1):t,o=B.test(a);return e.getElementById&&o&&r?(n=e.getElementById(a))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:$.call(o&&!r&&e.getElementsByClassName?i?e.getElementsByClassName(a):e.getElementsByTagName(t):e.querySelectorAll(t))},S.contains=A.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},S.type=l,S.isFunction=o,S.isWindow=a,S.isArray=z,S.isPlainObject=d,S.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},S.isNumeric=function(e){var t=Number(e),n=typeof e;return null!=e&&"boolean"!=n&&("string"!=n||e.length)&&!isNaN(t)&&isFinite(t)||!1},S.inArray=function(e,t,n){return E.indexOf.call(t,e,n)},S.camelCase=x,S.trim=function(e){return null==e?"":String.prototype.trim.call(e)},S.uuid=0,S.support={},S.expr={},S.noop=function(){},S.map=function(e,t){var n,r,i,a,o=[];if(u(e))for(r=0;r<e.length;r++)null!=(n=t(e[r],r))&&o.push(n);else for(i in e)null!=(n=t(e[i],i))&&o.push(n);return 0<(a=o).length?S.fn.concat.apply([],a):a},S.each=function(e,t){var n,r;if(u(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(r in e)if(!1===t.call(e[r],r,e[r]))return e;return e},S.grep=function(e,t){return C.call(e,t)},c.JSON&&(S.parseJSON=JSON.parse),S.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){U["[object "+t+"]"]=t.toLowerCase()}),S.fn={constructor:R.Z,length:0,forEach:E.forEach,reduce:E.reduce,push:E.push,sort:E.sort,splice:E.splice,indexOf:E.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=R.isZ(t)?t.toArray():t;return w.apply(R.isZ(this)?this.toArray():this,n)},map:function(n){return S(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return S($.apply(this,arguments))},ready:function(e){return W.test(A.readyState)&&A.body?e(S):A.addEventListener("DOMContentLoaded",function(){e(S)},!1),this},get:function(e){return e===j?$.call(this):this[0<=e?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(n){return E.every.call(this,function(e,t){return!1!==n.call(e,t,e)}),this},filter:function(t){return o(t)?this.not(this.not(t)):S(C.call(this,function(e){return R.matches(e,t)}))},add:function(e,t){return S(T(this.concat(S(e,t))))},is:function(e){return 0<this.length&&R.matches(this[0],e)},not:function(t){var n=[];if(o(t)&&t.call!==j)this.each(function(e){t.call(this,e)||n.push(this)});else{var r="string"==typeof t?this.filter(t):u(t)&&o(t.item)?$.call(t):S(t);this.forEach(function(e){r.indexOf(e)<0&&n.push(e)})}return S(n)},has:function(e){return this.filter(function(){return i(e)?S.contains(this,e):S(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!i(e)?e:S(e)},last:function(){var e=this[this.length-1];return e&&!i(e)?e:S(e)},find:function(e){var n=this;return e?"object"==typeof e?S(e).filter(function(){var t=this;return E.some.call(n,function(e){return S.contains(e,t)})}):1==this.length?S(R.qsa(this[0],e)):this.map(function(){return R.qsa(this,e)}):S()},closest:function(n,r){var i=[],a="object"==typeof n&&S(n);return this.each(function(e,t){for(;t&&!(a?0<=a.indexOf(t):R.matches(t,n));)t=t!==r&&!s(t)&&t.parentNode;t&&i.indexOf(t)<0&&i.push(t)}),S(i)},parents:function(e){for(var t=[],n=this;0<n.length;)n=S.map(n,function(e){return(e=e.parentNode)&&!s(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return v(t,e)},parent:function(e){return v(T(this.pluck("parentNode")),e)},children:function(e){return v(this.map(function(){return r(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||$.call(this.childNodes)})},siblings:function(e){return v(this.map(function(e,t){return C.call(r(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return S.map(this,function(e){return e[t]})},show:function(){return this.each(function(){var e,t,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(e=this.nodeName,N[e]||(t=A.createElement(e),A.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),N[e]=n),N[e]))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(t){var n=o(t);if(this[0]&&!n)var r=S(t).get(0),i=r.parentNode||1<this.length;return this.each(function(e){S(this).wrapAll(n?t.call(this,e):i?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){S(this[0]).before(e=S(e));for(var t;(t=e.children()).length;)e=t.first();S(e).append(this)}return this},wrapInner:function(i){var a=o(i);return this.each(function(e){var t=S(this),n=t.contents(),r=a?i.call(this,e):i;n.length?n.wrapAll(r):t.append(r)})},unwrap:function(){return this.parent().each(function(){S(this).replaceWith(S(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=S(this);(t===j?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(e){return S(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return S(this.pluck("nextElementSibling")).filter(e||"*")},html:function(n){return 0 in arguments?this.each(function(e){var t=this.innerHTML;S(this).empty().append(m(this,n,e,t))}):0 in this?this[0].innerHTML:null},text:function(n){return 0 in arguments?this.each(function(e){var t=m(this,n,e,this.textContent);this.textContent=null==t?"":""+t}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,n){var e;return"string"!=typeof t||1 in arguments?this.each(function(e){if(1===this.nodeType)if(i(t))for(_ in t)g(this,_,t[_]);else g(this,t,m(this,n,e,this.getAttribute(t)))}):0 in this&&1==this[0].nodeType&&null!=(e=this[0].getAttribute(t))?e:j},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){g(this,e)},this)})},prop:function(t,n){return t=Y[t]||t,1 in arguments?this.each(function(e){this[t]=m(this,n,e,this[t])}):this[0]&&this[0][t]},removeProp:function(e){return e=Y[e]||e,this.each(function(){delete this[e]})},data:function(e,t){var n="data-"+e.replace(O,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?b(r):j},val:function(t){return 0 in arguments?(null==t&&(t=""),this.each(function(e){this.value=m(this,t,e,this.value)})):this[0]&&(this[0].multiple?S(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(a){if(a)return this.each(function(e){var t=S(this),n=m(this,a,e,t.offset()),r=t.offsetParent().offset(),i={top:n.top-r.top,left:n.left-r.left};"static"==t.css("position")&&(i.position="relative"),t.css(i)});if(!this.length)return null;if(A.documentElement!==this[0]&&!S.contains(A.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+c.pageXOffset,top:e.top+c.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,t){if(arguments.length<2){var n=this[0];if("string"==typeof e){if(!n)return;return n.style[x(e)]||getComputedStyle(n,"").getPropertyValue(e)}if(z(e)){if(!n)return;var r={},i=getComputedStyle(n,"");return S.each(e,function(e,t){r[t]=n.style[x(t)]||i.getPropertyValue(t)}),r}}var a="";if("string"==l(e))t||0===t?a=h(e)+":"+f(e,t):this.each(function(){this.style.removeProperty(h(e))});else for(_ in e)e[_]||0===e[_]?a+=h(_)+":"+f(_,e[_])+";":this.each(function(){this.style.removeProperty(h(_))});return this.each(function(){this.style.cssText+=";"+a})},index:function(e){return e?this.indexOf(S(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&E.some.call(this,function(e){return this.test(y(e))},n(e))},addClass:function(n){return n?this.each(function(e){if("className"in this){D=[];var t=y(this);m(this,n,e,t).split(/\s+/g).forEach(function(e){S(this).hasClass(e)||D.push(e)},this),D.length&&y(this,t+(t?" ":"")+D.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===j)return y(this,"");D=y(this),m(this,t,e,D).split(/\s+/g).forEach(function(e){D=D.replace(n(e)," ")}),y(this,D.trim())}})},toggleClass:function(n,r){return n?this.each(function(e){var t=S(this);m(this,n,e,y(this)).split(/\s+/g).forEach(function(e){(r===j?!t.hasClass(e):r)?t.addClass(e):t.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===j?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===j?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=M.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(S(e).css("margin-top"))||0,n.left-=parseFloat(S(e).css("margin-left"))||0,r.top+=parseFloat(S(t[0]).css("border-top-width"))||0,r.left+=parseFloat(S(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||A.body;e&&!M.test(e.nodeName)&&"static"==S(e).css("position");)e=e.offsetParent;return e})}},S.fn.detach=S.fn.remove,["width","height"].forEach(function(r){var i=r.replace(/./,function(e){return e[0].toUpperCase()});S.fn[r]=function(t){var e,n=this[0];return t===j?a(n)?n["inner"+i]:s(n)?n.documentElement["scroll"+i]:(e=this.offset())&&e[r]:this.each(function(e){(n=S(this)).css(r,m(this,t,e,n[r]()))})}}),["after","prepend","before","append"].forEach(function(t,o){var s=o%2;S.fn[t]=function(){var n,r,i=S.map(arguments,function(e){var t=[];return"array"==(n=l(e))?(e.forEach(function(e){return e.nodeType!==j?t.push(e):S.zepto.isZ(e)?t=t.concat(e.get()):void(t=t.concat(R.fragment(e)))}),t):"object"==n||null==e?e:R.fragment(e)}),a=1<this.length;return i.length<1?this:this.each(function(e,t){r=s?t:t.parentNode,t=0==o?t.nextSibling:1==o?t.firstChild:2==o?t:null;var n=S.contains(A.documentElement,r);i.forEach(function(e){if(a)e=e.cloneNode(!0);else if(!r)return S(e).remove();r.insertBefore(e,t),n&&function e(t,n){n(t);for(var r=0,i=t.childNodes.length;r<i;r++)e(t.childNodes[r],n)}(e,function(e){if(!(null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src)){var t=e.ownerDocument?e.ownerDocument.defaultView:c;t.eval.call(t,e.innerHTML)}})})})},S.fn[s?t+"To":"insert"+(o?"Before":"After")]=function(e){return S(e)[t](this),this}}),R.Z.prototype=p.prototype=S.fn,R.uniq=T,R.deserializeValue=b,S.zepto=R,S}();return c.Zepto=d,void 0===c.$&&(c.$=d),function(d){function u(e){return e._zid||(e._zid=t++)}function o(e,t,n,r){if((t=h(t)).ns)var i=(a=t.ns,new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)"));var a;return(S[u(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||i.test(e.ns))&&(!n||u(e.fn)===u(n))&&(!r||e.sel==r)})}function h(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function f(e,t){return e.del&&!n&&e.e in r||!!t}function p(e){return D[e]||n&&r[e]||e}function l(i,e,t,a,o,s,c){var n=u(i),l=S[n]||(S[n]=[]);e.split(/\s/).forEach(function(e){if("ready"==e)return d(document).ready(t);var n=h(e);n.fn=t,n.sel=o,n.e in D&&(t=function(e){var t=e.relatedTarget;return!t||t!==this&&!d.contains(this,t)?n.fn.apply(this,arguments):void 0});var r=(n.del=s)||t;n.proxy=function(e){if(!(e=m(e)).isImmediatePropagationStopped()){e.data=a;var t=r.apply(i,e._args==y?[e]:[e].concat(e._args));return!1===t&&(e.preventDefault(),e.stopPropagation()),t}},n.i=l.length,l.push(n),"addEventListener"in i&&i.addEventListener(p(n.e),n.proxy,f(n,c))})}function v(t,e,n,r,i){var a=u(t);(e||"").split(/\s/).forEach(function(e){o(t,e,n,r).forEach(function(e){delete S[a][e.i],"removeEventListener"in t&&t.removeEventListener(p(e.e),e.proxy,f(e,i))})})}function m(r,i){return(i||!r.isDefaultPrevented)&&(i||(i=r),d.each(e,function(e,t){var n=i[e];r[e]=function(){return this[t]=s,n&&n.apply(i,arguments)},r[t]=x}),r.timeStamp||(r.timeStamp=Date.now()),(i.defaultPrevented!==y?i.defaultPrevented:"returnValue"in i?!1===i.returnValue:i.getPreventDefault&&i.getPreventDefault())&&(r.isDefaultPrevented=s)),r}function g(e){var t,n={originalEvent:e};for(t in e)i.test(t)||e[t]===y||(n[t]=e[t]);return m(n,e)}var y,t=1,b=Array.prototype.slice,j=d.isFunction,_=function(e){return"string"==typeof e},S={},a={},n="onfocusin"in c,r={focus:"focusin",blur:"focusout"},D={mouseenter:"mouseover",mouseleave:"mouseout"};a.click=a.mousedown=a.mouseup=a.mousemove="MouseEvents",d.event={add:l,remove:v},d.proxy=function(e,t){var n=2 in arguments&&b.call(arguments,2);if(j(e)){var r=function(){return e.apply(t,n?n.concat(b.call(arguments)):arguments)};return r._zid=u(e),r}if(_(t))return n?(n.unshift(e[t],e),d.proxy.apply(null,n)):d.proxy(e[t],e);throw new TypeError("expected function")},d.fn.bind=function(e,t,n){return this.on(e,t,n)},d.fn.unbind=function(e,t){return this.off(e,t)},d.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var s=function(){return!0},x=function(){return!1},i=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,e={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};d.fn.delegate=function(e,t,n){return this.on(t,e,n)},d.fn.undelegate=function(e,t,n){return this.off(t,e,n)},d.fn.live=function(e,t){return d(document.body).delegate(this.selector,e,t),this},d.fn.die=function(e,t){return d(document.body).undelegate(this.selector,e,t),this},d.fn.on=function(t,i,n,a,o){var s,c,r=this;return t&&!_(t)?(d.each(t,function(e,t){r.on(e,i,n,t,o)}),r):(_(i)||j(a)||!1===a||(a=n,n=i,i=y),(a===y||!1===n)&&(a=n,n=y),!1===a&&(a=x),r.each(function(e,r){o&&(s=function(e){return v(r,e.type,a),a.apply(this,arguments)}),i&&(c=function(e){var t,n=d(e.target).closest(i,r).get(0);return n&&n!==r?(t=d.extend(g(e),{currentTarget:n,liveFired:r}),(s||a).apply(n,[t].concat(b.call(arguments,1)))):void 0}),l(r,t,a,n,i,c||s)}))},d.fn.off=function(e,n,t){var r=this;return e&&!_(e)?(d.each(e,function(e,t){r.off(e,n,t)}),r):(_(n)||j(t)||!1===t||(t=n,n=y),!1===t&&(t=x),r.each(function(){v(this,e,t,n)}))},d.fn.trigger=function(e,t){return(e=_(e)||d.isPlainObject(e)?d.Event(e):m(e))._args=t,this.each(function(){e.type in r&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):d(this).triggerHandler(e,t)})},d.fn.triggerHandler=function(n,r){var i,a;return this.each(function(e,t){(i=g(_(n)?d.Event(n):n))._args=r,i.target=t,d.each(o(t,n.type||n),function(e,t){return a=t.proxy(i),!i.isImmediatePropagationStopped()&&void 0})}),a},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){d.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),d.Event=function(e,t){_(e)||(e=(t=e).type);var n=document.createEvent(a[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),m(n)}}(d),function(Dh){function Fh(e,t,n,r){return e.global?(i=t||Wh,a=n,o=r,s=Dh.Event(a),Dh(i).trigger(s,o),!s.isDefaultPrevented()):void 0;var i,a,o,s}function Ih(e,t){var n=t.context;return!1!==t.beforeSend.call(n,e,t)&&!1!==Fh(t,n,"ajaxBeforeSend",[e,t])&&void Fh(t,n,"ajaxSend",[e,t])}function Jh(e,t,n,r){var i=n.context,a="success";n.success.call(i,e,a,t),r&&r.resolveWith(i,[e,a,t]),Fh(n,i,"ajaxSuccess",[t,n,e]),Lh(a,t,n)}function Kh(e,t,n,r,i){var a=r.context;r.error.call(a,n,t,e),i&&i.rejectWith(a,[n,t,e]),Fh(r,a,"ajaxError",[n,r,e||t]),Lh(t,n,r)}function Lh(e,t,n){var r,i=n.context;n.complete.call(i,t,e),Fh(n,i,"ajaxComplete",[t,n]),(r=n).global&&!--Dh.active&&Fh(r,null,"ajaxStop")}function Nh(){}function Ph(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function Rh(e,t,n,r){return Dh.isFunction(t)&&(r=n,n=t,t=void 0),Dh.isFunction(n)||(r=n,n=void 0),{url:e,data:t,success:n,dataType:r}}var Th,Uh,Vh=+new Date,Wh=c.document,Xh=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Yh=/^(?:text|application)\/javascript/i,Zh=/^(?:text|application)\/xml/i,$h="application/json",_h="text/html",ai=/^\s*$/,bi=Wh.createElement("a");bi.href=c.location.href,Dh.active=0,Dh.ajaxJSONP=function(n,r){if(!("type"in n))return Dh.ajax(n);var i,a,e=n.jsonpCallback,o=(Dh.isFunction(e)?e():e)||"Zepto"+Vh++,s=Wh.createElement("script"),l=c[o],t=function(e){Dh(s).triggerHandler("error",e||"abort")},d={abort:t};return r&&r.promise(d),Dh(s).on("load error",function(e,t){clearTimeout(a),Dh(s).off().remove(),"error"!=e.type&&i?Jh(i[0],d,n,r):Kh(null,t||"error",d,n,r),c[o]=l,i&&Dh.isFunction(l)&&l(i[0]),l=i=void 0}),!1===Ih(d,n)?t("abort"):(c[o]=function(){i=arguments},s.src=n.url.replace(/\?(.+)=\?/,"?$1="+o),Wh.head.appendChild(s),0<n.timeout&&(a=setTimeout(function(){t("timeout")},n.timeout))),d},Dh.ajaxSettings={type:"GET",beforeSend:Nh,success:Nh,error:Nh,complete:Nh,context:null,global:!0,xhr:function(){return new c.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:$h,xml:"application/xml, text/xml",html:_h,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:Nh},Dh.ajax=function(mj){var nj,oj,Ni,li,pj=Dh.extend({},mj||{}),qj=Dh.Deferred&&Dh.Deferred();for(Th in Dh.ajaxSettings)void 0===pj[Th]&&(pj[Th]=Dh.ajaxSettings[Th]);(li=pj).global&&0==Dh.active++&&Fh(li,null,"ajaxStart"),pj.crossDomain||((nj=Wh.createElement("a")).href=pj.url,nj.href=nj.href,pj.crossDomain=bi.protocol+"//"+bi.host!=nj.protocol+"//"+nj.host),pj.url||(pj.url=c.location.toString()),-1<(oj=pj.url.indexOf("#"))&&(pj.url=pj.url.slice(0,oj)),(Ni=pj).processData&&Ni.data&&"string"!=Dh.type(Ni.data)&&(Ni.data=Dh.param(Ni.data,Ni.traditional)),!Ni.data||Ni.type&&"GET"!=Ni.type.toUpperCase()&&"jsonp"!=Ni.dataType||(Ni.url=Ph(Ni.url,Ni.data),Ni.data=void 0);var rj=pj.dataType,sj=/\?.+=\?/.test(pj.url);if(sj&&(rj="jsonp"),!1!==pj.cache&&(mj&&!0===mj.cache||"script"!=rj&&"jsonp"!=rj)||(pj.url=Ph(pj.url,"_="+Date.now())),"jsonp"==rj)return sj||(pj.url=Ph(pj.url,pj.jsonp?pj.jsonp+"=?":!1===pj.jsonp?"":"callback=?")),Dh.ajaxJSONP(pj,qj);var tj,uj=pj.accepts[rj],vj={},wj=function(e,t){vj[e.toLowerCase()]=[e,t]},xj=/^([\w-]+:)\/\//.test(pj.url)?RegExp.$1:c.location.protocol,yj=pj.xhr(),zj=yj.setRequestHeader;if(qj&&qj.promise(yj),pj.crossDomain||wj("X-Requested-With","XMLHttpRequest"),wj("Accept",uj||"*/*"),(uj=pj.mimeType||uj)&&(-1<uj.indexOf(",")&&(uj=uj.split(",",2)[0]),yj.overrideMimeType&&yj.overrideMimeType(uj)),(pj.contentType||!1!==pj.contentType&&pj.data&&"GET"!=pj.type.toUpperCase())&&wj("Content-Type",pj.contentType||"application/x-www-form-urlencoded"),pj.headers)for(Uh in pj.headers)wj(Uh,pj.headers[Uh]);if(yj.setRequestHeader=wj,!(yj.onreadystatechange=function(){if(4==yj.readyState){yj.onreadystatechange=Nh,clearTimeout(tj);var Dj,Ej=!1;if(200<=yj.status&&yj.status<300||304==yj.status||0==yj.status&&"file:"==xj){if(rj=rj||((Ki=pj.mimeType||yj.getResponseHeader("content-type"))&&(Ki=Ki.split(";",2)[0]),Ki&&(Ki==_h?"html":Ki==$h?"json":Yh.test(Ki)?"script":Zh.test(Ki)&&"xml")||"text"),"arraybuffer"==yj.responseType||"blob"==yj.responseType)Dj=yj.response;else{Dj=yj.responseText;try{Dj=function(e,t,n){if(n.dataFilter==Nh)return e;var r=n.context;return n.dataFilter.call(r,e,t)}(Dj,rj,pj),"script"==rj?eval(Dj):"xml"==rj?Dj=yj.responseXML:"json"==rj&&(Dj=ai.test(Dj)?null:Dh.parseJSON(Dj))}catch(e){Ej=e}if(Ej)return Kh(Ej,"parsererror",yj,pj,qj)}Jh(Dj,yj,pj,qj)}else Kh(yj.statusText||null,yj.status?"error":"abort",yj,pj,qj)}var Ki})===Ih(yj,pj))return yj.abort(),Kh(null,"abort",yj,pj,qj),yj;var Aj=!("async"in pj)||pj.async;if(yj.open(pj.type,pj.url,Aj,pj.username,pj.password),pj.xhrFields)for(Uh in pj.xhrFields)yj[Uh]=pj.xhrFields[Uh];for(Uh in vj)zj.apply(yj,vj[Uh]);return 0<pj.timeout&&(tj=setTimeout(function(){yj.onreadystatechange=Nh,yj.abort(),Kh(null,"timeout",yj,pj,qj)},pj.timeout)),yj.send(pj.data?pj.data:null),yj},Dh.get=function(){return Dh.ajax(Rh.apply(null,arguments))},Dh.post=function(){var e=Rh.apply(null,arguments);return e.type="POST",Dh.ajax(e)},Dh.getJSON=function(){var e=Rh.apply(null,arguments);return e.dataType="json",Dh.ajax(e)},Dh.fn.load=function(e,t,n){if(!this.length)return this;var r,i=this,a=e.split(/\s/),o=Rh(e,t,n),s=o.success;return 1<a.length&&(o.url=a[0],r=a[1]),o.success=function(e){i.html(r?Dh("<div>").html(e.replace(Xh,"")).find(r):e),s&&s.apply(i,arguments)},Dh.ajax(o),this};var ci=encodeURIComponent;Dh.param=function(e,t){var n=[];return n.add=function(e,t){Dh.isFunction(t)&&(t=t()),null==t&&(t=""),this.push(ci(e)+"="+ci(t))},function n(r,e,i,a){var o,s=Dh.isArray(e),c=Dh.isPlainObject(e);Dh.each(e,function(e,t){o=Dh.type(t),a&&(e=i?a:a+"["+(c||"object"==o||"array"==o?e:"")+"]"),!a&&s?r.add(t.name,t.value):"array"==o||!i&&"object"==o?n(r,t,i,e):r.add(e,t)})}(n,e,t),n.join("&").replace(/%20/g,"+")}}(d),(Wj=d).fn.serializeArray=function(){var n,r,t=[],i=function(e){return e.forEach?e.forEach(i):void t.push({name:n,value:e})};return this[0]&&Wj.each(this[0].elements,function(e,t){r=t.type,(n=t.name)&&"fieldset"!=t.nodeName.toLowerCase()&&!t.disabled&&"submit"!=r&&"reset"!=r&&"button"!=r&&"file"!=r&&("radio"!=r&&"checkbox"!=r||t.checked)&&i(Wj(t).val())}),t},Wj.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},Wj.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var t=Wj.Event("submit");this.eq(0).trigger(t),t.isDefaultPrevented()||this.get(0).submit()}return this},function(){try{getComputedStyle(void 0)}catch(e){var n=getComputedStyle;c.getComputedStyle=function(e,t){try{return n(e,t)}catch(e){return null}}}}(),d}),window.lCalendar=function(){var e=function(){this.gearDate,this.minY=1900,this.minM=1,this.minD=1,this.maxY=2099,this.maxM=12,this.maxD=31};return e.prototype={init:function(e){if(this.type=e.type,this.trigger=document.querySelector(e.trigger),null!=this.trigger.getAttribute("data-lcalendar")){var t=this.trigger.getAttribute("data-lcalendar").split(","),n=t[0].split("-");this.minY=~~n[0],this.minM=~~n[1],this.minD=~~n[2];var r=t[1].split("-");this.maxY=~~r[0],this.maxM=~~r[1],this.maxD=~~r[2]}this.bindEvent(this.type)},bindEvent:function(e){function c(){var e=j.maxY-j.minY+1,t=j.gearDate.querySelector(".date_yy"),n="";if(t&&t.getAttribute("val")){for(var r=parseInt(t.getAttribute("val")),i=0;i<=e-1;i++)n+="<div class='tooth'>"+(j.minY+i)+"</div>";t.innerHTML=n;var a=Math.floor(parseFloat(t.getAttribute("top")));if(isNaN(a))t.style["-webkit-transform"]="translate3d(0,"+(8-2*r)+"em,0)",t.setAttribute("top",8-2*r+"em");else{a%2==0?a=a:a+=1,8<a&&(a=8);var o=8-2*(e-1);a<o&&(a=o),t.style["-webkit-transform"]="translate3d(0,"+a+"em,0)",t.setAttribute("top",a+"em"),r=Math.abs(a-8)/2,t.setAttribute("val",r)}var s=j.gearDate.querySelector(".date_mm");if(s&&s.getAttribute("val")){n="";var c=parseInt(s.getAttribute("val")),l=11,d=0;r==e-1&&(l=j.maxM-1),0==r&&(d=j.minM-1);for(i=0;i<l-d+1;i++)n+="<div class='tooth'>"+(d+i+1)+"</div>";s.innerHTML=n,l<c?(c=l,s.setAttribute("val",c)):c<d&&(c=l,s.setAttribute("val",c)),s.style["-webkit-transform"]="translate3d(0,"+(8-2*(c-d))+"em,0)",s.setAttribute("top",8-2*(c-d)+"em");var u=j.gearDate.querySelector(".date_dd");if(u&&u.getAttribute("val")){n="";var h=parseInt(u.getAttribute("val")),f=y(r,c)-1,p=0;r==e-1&&j.maxM==c+1&&(f=j.maxD-1),0==r&&j.minM==c+1&&(p=j.minD-1);for(i=0;i<f-p+1;i++)n+="<div class='tooth'>"+(p+i+1)+"</div>";u.innerHTML=n,f<h?(h=f,u.setAttribute("val",h)):h<p&&(h=p,u.setAttribute("val",h)),u.style["-webkit-transform"]="translate3d(0,"+(8-2*(h-p))+"em,0)",u.setAttribute("top",8-2*(h-p)+"em")}}}}function l(){var e=j.gearDate.querySelector(".time_hh");if(e&&e.getAttribute("val")){for(var t="",n=parseInt(e.getAttribute("val")),r=0;r<=23;r++)t+="<div class='tooth'>"+r+"</div>";e.innerHTML=t,e.style["-webkit-transform"]="translate3d(0,"+(8-2*n)+"em,0)",e.setAttribute("top",8-2*n+"em");var i=j.gearDate.querySelector(".time_mm");if(i&&i.getAttribute("val")){t="";var a=parseInt(i.getAttribute("val"));for(r=0;r<=59;r++)t+="<div class='tooth'>"+r+"</div>";i.innerHTML=t,i.style["-webkit-transform"]="translate3d(0,"+(8-2*a)+"em,0)",i.setAttribute("top",8-2*a+"em")}}}function y(e,t){return 1==t?(e+=j.minY)%4==0&&e%100!=0||e%400==0&&e%4e3!=0?29:28:3==t||5==t||8==t||10==t?30:31}function d(e){e.preventDefault();for(var t=e.target;!t.classList.contains("gear");)t=t.parentElement;clearInterval(t["int_"+t.id]),t["old_"+t.id]=e.targetTouches[0].screenY,t["o_t_"+t.id]=(new Date).getTime();var n=t.getAttribute("top");t["o_d_"+t.id]=n?parseFloat(n.replace(/em/g,"")):0}function u(e){e.preventDefault();for(var t=e.target;!t.classList.contains("gear");)t=t.parentElement;t["new_"+t.id]=e.targetTouches[0].screenY,t["n_t_"+t.id]=(new Date).getTime();var n=18*(t["new_"+t.id]-t["old_"+t.id])/370;t["pos_"+t.id]=t["o_d_"+t.id]+n,t.style["-webkit-transform"]="translate3d(0,"+t["pos_"+t.id]+"em,0)",t.setAttribute("top",t["pos_"+t.id]+"em")}function h(e){e.preventDefault();for(var t=e.target;!t.classList.contains("gear");)t=t.parentElement;var p,v,m,g,n=(t["new_"+t.id]-t["old_"+t.id])/(t["n_t_"+t.id]-t["o_t_"+t.id]);Math.abs(n)<=.2?t["spd_"+t.id]=n<0?-.08:.08:Math.abs(n)<=.5?t["spd_"+t.id]=n<0?-.16:.16:t["spd_"+t.id]=n/2,t["pos_"+t.id]||(t["pos_"+t.id]=0),p=t,v=0,m=!1,g=j.maxY-j.minY+1,clearInterval(p["int_"+p.id]),p["int_"+p.id]=setInterval(function(){var e=p["pos_"+p.id],t=p["spd_"+p.id]*Math.exp(-.03*v);if(e+=t,.1<Math.abs(t));else{t=.1;var n=2*Math.round(e/2);Math.abs(e-n)<.02?m=!0:n<e?e-=t:e+=t}switch(8<e&&(e=8,m=!0),p.dataset.datetype){case"date_yy":var r=8-2*(g-1);if(e<r&&(e=r,m=!0),m){var i=Math.abs(e-8)/2;b(p,i),clearInterval(p["int_"+p.id])}break;case"date_mm":var a=j.gearDate.querySelector(".date_yy"),o=parseInt(a.getAttribute("val")),s=11,c=0;o==g-1&&(s=j.maxM-1),0==o&&(c=j.minM-1);var r=8-2*(s-c);if(e<r&&(e=r,m=!0),m){var i=Math.abs(e-8)/2+c;b(p,i),clearInterval(p["int_"+p.id])}break;case"date_dd":var a=j.gearDate.querySelector(".date_yy"),l=j.gearDate.querySelector(".date_mm"),o=parseInt(a.getAttribute("val")),d=parseInt(l.getAttribute("val")),u=y(o,d),h=u-1,f=0;o==g-1&&j.maxM==d+1&&(h=j.maxD-1),0==o&&j.minM==d+1&&(f=j.minD-1);var r=8-2*(h-f);if(e<r&&(e=r,m=!0),m){var i=Math.abs(e-8)/2+f;b(p,i),clearInterval(p["int_"+p.id])}break;case"time_hh":if(e<-38&&(e=-38,m=!0),m){var i=Math.abs(e-8)/2;b(p,i),clearInterval(p["int_"+p.id])}break;case"time_mm":if(e<-110&&(e=-110,m=!0),m){var i=Math.abs(e-8)/2;b(p,i),clearInterval(p["int_"+p.id])}}p["pos_"+p.id]=e,p.style["-webkit-transform"]="translate3d(0,"+e+"em,0)",p.setAttribute("top",e+"em"),v++},30)}function b(e,t){t=Math.round(t),e.setAttribute("val",t),/date/.test(e.dataset.datetype)?c():l()}function f(e){e.preventDefault();var t=new CustomEvent("input");j.trigger.dispatchEvent(t),document.body.removeChild(j.gearDate)}function o(e){var t=j.maxY-j.minY+1,n=parseInt(Math.round(j.gearDate.querySelector(".date_yy").getAttribute("val"))),r=parseInt(Math.round(j.gearDate.querySelector(".date_mm").getAttribute("val")))+1;r=9<r?r:"0"+r;var i=parseInt(Math.round(j.gearDate.querySelector(".date_dd").getAttribute("val")))+1;i=9<i?i:"0"+i,j.trigger.value=n%t+j.minY+"-"+r+"-"+i,f(e)}function p(e){var t=j.maxY-j.minY+1,n=parseInt(Math.round(j.gearDate.querySelector(".date_yy").getAttribute("val"))),r=parseInt(Math.round(j.gearDate.querySelector(".date_mm").getAttribute("val")))+1;r=9<r?r:"0"+r;var i=parseInt(Math.round(j.gearDate.querySelector(".date_dd").getAttribute("val")))+1;i=9<i?i:"0"+i;var a=parseInt(Math.round(j.gearDate.querySelector(".time_hh").getAttribute("val")));a=9<a?a:"0"+a;parseInt(Math.round(j.gearDate.querySelector(".time_mm").getAttribute("val")));j.trigger.value=n%t+j.minY+"-"+r+"-"+i+" "+(a.length<2?"0":"")+a+("00".length<2?":0":":")+"00",f(e)}function a(e){var t=parseInt(Math.round(j.gearDate.querySelector(".time_hh").getAttribute("val")));t=9<t?t:"0"+t;var n=parseInt(Math.round(j.gearDate.querySelector(".time_mm").getAttribute("val")));n=9<n?n:"0"+n,j.trigger.value=(t.length<2?"0":"")+t+(n.length<2?":0":":")+n,f(e)}var j=this;j.trigger.addEventListener("click",{date:function(e){var t,n;j.gearDate=document.createElement("div"),j.gearDate.className="gearDate",j.gearDate.innerHTML='<div class="date_ctrl slideInUp"><div class="date_btn_box"><div class="date_btn lcalendar_cancel">取消</div><div class="date_btn lcalendar_finish">确定</div></div><div class="date_roll_mask"><div class="date_roll"><div><div class="gear date_yy" data-datetype="date_yy"></div><div class="date_grid"><div>年</div></div></div><div><div class="gear date_mm" data-datetype="date_mm"></div><div class="date_grid"><div>月</div></div></div><div><div class="gear date_dd" data-datetype="date_dd"></div><div class="date_grid"><div>日</div></div></div></div></div></div>',document.body.appendChild(j.gearDate),t=new Date,n={yy:t.getYear(),mm:t.getMonth(),dd:t.getDate()-1},/^\d{4}-\d{1,2}-\d{1,2}$/.test(j.trigger.value)?(rs=j.trigger.value.match(/(^|-)\d{1,4}/g),n.yy=rs[0]-j.minY,n.mm=rs[1].replace(/-/g,"")-1,n.dd=rs[2].replace(/-/g,"")-1):n.yy=n.yy+1900-j.minY,j.gearDate.querySelector(".date_yy").setAttribute("val",n.yy),j.gearDate.querySelector(".date_mm").setAttribute("val",n.mm),j.gearDate.querySelector(".date_dd").setAttribute("val",n.dd),c(),j.gearDate.querySelector(".lcalendar_cancel").addEventListener("touchstart",f),j.gearDate.querySelector(".lcalendar_finish").addEventListener("touchstart",o);var r=j.gearDate.querySelector(".date_yy"),i=j.gearDate.querySelector(".date_mm"),a=j.gearDate.querySelector(".date_dd");r.addEventListener("touchstart",d),i.addEventListener("touchstart",d),a.addEventListener("touchstart",d),r.addEventListener("touchmove",u),i.addEventListener("touchmove",u),a.addEventListener("touchmove",u),r.addEventListener("touchend",h),i.addEventListener("touchend",h),a.addEventListener("touchend",h)},datetime:function(e){var t,n;j.gearDate=document.createElement("div"),j.gearDate.className="gearDatetime",j.gearDate.innerHTML='<div class="date_ctrl slideInUp"><div class="date_btn_box"><div class="date_btn lcalendar_cancel">取消</div><div class="date_btn lcalendar_finish">确定</div></div><div class="date_roll_mask"><div class="datetime_roll"><div><div class="gear date_yy" data-datetype="date_yy"></div><div class="date_grid"><div>年</div></div></div><div><div class="gear date_mm" data-datetype="date_mm"></div><div class="date_grid"><div>月</div></div></div><div><div class="gear date_dd" data-datetype="date_dd"></div><div class="date_grid"><div>日</div></div></div><div><div class="gear time_hh" data-datetype="time_hh"></div><div class="date_grid"><div>时</div></div></div><div style="display:none;"><div class="gear time_mm" data-datetype="time_mm"></div><div class="date_grid"><div>分</div></div></div></div></div></div>',document.body.appendChild(j.gearDate),t=new Date,n={yy:t.getYear(),mm:t.getMonth(),dd:t.getDate()-1,hh:t.getHours(),mi:t.getMinutes()},/^\d{4}-\d{1,2}-\d{1,2}\s\d{2}:\d{2}$/.test(j.trigger.value)?(rs=j.trigger.value.match(/(^|-|\s|:)\d{1,4}/g),n.yy=rs[0]-j.minY,n.mm=rs[1].replace(/-/g,"")-1,n.dd=rs[2].replace(/-/g,"")-1,n.hh=parseInt(rs[3].replace(/\s0?/g,"")),n.mi=parseInt(rs[4].replace(/:0?/g,""))):n.yy=n.yy+1900-j.minY,j.gearDate.querySelector(".date_yy").setAttribute("val",n.yy),j.gearDate.querySelector(".date_mm").setAttribute("val",n.mm),j.gearDate.querySelector(".date_dd").setAttribute("val",n.dd),c(),j.gearDate.querySelector(".time_hh").setAttribute("val",n.hh),j.gearDate.querySelector(".time_mm").setAttribute("val",n.mi),l(),j.gearDate.querySelector(".lcalendar_cancel").addEventListener("touchstart",f),j.gearDate.querySelector(".lcalendar_finish").addEventListener("touchstart",p);var r=j.gearDate.querySelector(".date_yy"),i=j.gearDate.querySelector(".date_mm"),a=j.gearDate.querySelector(".date_dd"),o=j.gearDate.querySelector(".time_hh"),s=j.gearDate.querySelector(".time_mm");r.addEventListener("touchstart",d),i.addEventListener("touchstart",d),a.addEventListener("touchstart",d),o.addEventListener("touchstart",d),s.addEventListener("touchstart",d),r.addEventListener("touchmove",u),i.addEventListener("touchmove",u),a.addEventListener("touchmove",u),o.addEventListener("touchmove",u),s.addEventListener("touchmove",u),r.addEventListener("touchend",h),i.addEventListener("touchend",h),a.addEventListener("touchend",h),o.addEventListener("touchend",h),s.addEventListener("touchend",h)},time:function(e){var t,n;j.gearDate=document.createElement("div"),j.gearDate.className="gearDate",j.gearDate.innerHTML='<div class="date_ctrl slideInUp"><div class="date_btn_box"><div class="date_btn lcalendar_cancel">取消</div><div class="date_btn lcalendar_finish">确定</div></div><div class="date_roll_mask"><div class="time_roll"><div><div class="gear time_hh" data-datetype="time_hh"></div><div class="date_grid"><div>时</div></div></div><div><div class="gear time_mm" data-datetype="time_mm"></div><div class="date_grid"><div>分</div></div></div></div></div></div>',document.body.appendChild(j.gearDate),t=new Date,n={hh:t.getHours(),mm:t.getMinutes()},/^\d{2}:\d{2}$/.test(j.trigger.value)&&(rs=j.trigger.value.match(/(^|:)\d{2}/g),n.hh=parseInt(rs[0].replace(/^0?/g,"")),n.mm=parseInt(rs[1].replace(/:0?/g,""))),j.gearDate.querySelector(".time_hh").setAttribute("val",n.hh),j.gearDate.querySelector(".time_mm").setAttribute("val",n.mm),l(),j.gearDate.querySelector(".lcalendar_cancel").addEventListener("touchstart",f),j.gearDate.querySelector(".lcalendar_finish").addEventListener("touchstart",a);var r=j.gearDate.querySelector(".time_hh"),i=j.gearDate.querySelector(".time_mm");r.addEventListener("touchstart",d),i.addEventListener("touchstart",d),r.addEventListener("touchmove",u),i.addEventListener("touchmove",u),r.addEventListener("touchend",h),i.addEventListener("touchend",h)}}[e])}},e}();var base={setLocalStorage:function(e,t){window.localStorage[e]=JSON.stringify(t)},getLocalStorage:function(e){return JSON.parse(window.localStorage[e]||null)},setSessionStorage:function(e,t){window.sessionStorage[e]=JSON.stringify(t)},getSessionStorage:function(e){return JSON.parse(window.sessionStorage[e]||null)},textCount:function(e){e.value=e.value.replace(/^(.{500}).*$/,"$1")},sealCount:function(e){e.value=e.value.replace(/^(.{15}).*$/,"$1")},callApp:function(t){var e,n;-1<(n=navigator.userAgent.toLowerCase()).indexOf("iphone")||-1<n.indexOf("ipad")?function(e){if(window.WebViewJavascriptBridge)return e(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var t=document.createElement("iframe");t.style.display="none",t.src="https://__bridge_loaded__",document.documentElement.appendChild(t),setTimeout(function(){document.documentElement.removeChild(t)},0)}(function(e){e.callHandler(t)}):(e=function(e){try{e.init(function(e,t){t({"Javascript Responds":"Wee!"})})}catch(e){}e.callHandler(t)},window.WebViewJavascriptBridge?e(WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",function(){e(WebViewJavascriptBridge)},!1))}};function getQueryParameter(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null}function urlWithoutUserid(){var e=location.href.replace(/(\?|&)userid=([^&]*)(&|$)/,"$1");return"&"!=(e=(e=(e=e.replace(/(\?|&)name=([^&]*)(&|$)/,"$1")).replace(/(\?|&)mobile=([^&]*)(&|$)/,"$1")).replace(/(\?|&)deptid=([^&]*)(&|$)/,"$1")).charAt(e.length-1)&&"?"!=e.charAt(e.length-1)||(e=e.substr(0,e.length-1)),e}function removeOrderNo(){var e=location.href.replace(/(\?|&)orderNo=([^&]*)(&|$)/,"$1");"&"!=e.charAt(e.length-1)&&"?"!=e.charAt(e.length-1)||(e=e.substr(0,e.length-1)),history.replaceState({},"",e)}function getUserid(){var e=sessionStorage.getItem("userid");return e||((e=getQueryParameter("userid"))?(e=decodeURIComponent(e),sessionStorage.setItem("userid",e),e):"")}function getCopyToFromStore(){var e=[],t=sessionStorage.getItem("copyTo");return t&&(e=JSON.parse(t)),e}function storeCopyTo(e){sessionStorage.setItem("copyTo",JSON.stringify(e))}function appendCopyTo(e,t,a){$.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/credit/element/dingtalk/getCopyUsers",data:{emlpid:e,deptid:t},success:function(e){if("SUCCESS"==e.code){for(var t=e.data,n=getCopyToFromStore(),r=t.length-1;0<=r;r--)for(var i=0;i<n.length;i++)if(t[r].uid==n[i].uid){t.splice(r,1);break}storeCopyTo(n=n.concat(t)),sessionStorage.getItem("goBack")&&(sessionStorage.setItem("goBack",""),history.go(-2)),a instanceof Function&&a(n)}else alert(e.msg)}})}function clearStore(){sessionStorage.setItem("copyTo",""),sessionStorage.setItem("auditors",""),sessionStorage.setItem("city",""),sessionStorage.setItem("docChoosenIds",""),sessionStorage.setItem("sealChoosenIds",""),sessionStorage.setItem("borrowDocDetail",""),sessionStorage.setItem("borrowSealDetail",""),sessionStorage.setItem("startTime",""),sessionStorage.setItem("endTime",""),sessionStorage.setItem("reason",""),sessionStorage.setItem("fileToSeal",""),sessionStorage.setItem("fileType",""),sessionStorage.setItem("sealFileCount",""),sessionStorage.setItem("fileImgUrl","")}function convertDateFromString(e){if(e){var t=e.split(" "),n=t[0].split("-"),r=t[1].split(":");return new Date(n[0],n[1]-1,n[2],r[0],r[1])}}function subtractTime(e,t){var n=convertDateFromString(e),r=convertDateFromString(t).getTime()-n.getTime();return r<=0?(toast("结束时间需大于开始时间!"),"根据选择的借用时间自动计算"):9999<(r=(r/36e5).toFixed(2))?(toast("借用时长太大,请正确选择时间!"),"根据选择的借用时间自动计算"):(r+"").replace(".00","")+"小时"}function subtractTime1(e,t){var n=convertDateFromString(e),r=convertDateFromString(t).getTime()-n.getTime();return r<=0?(toast("结束时间需大于开始时间!"),""):9999<(r=(r/36e5).toFixed(2))?(toast("借用时长太大,请正确选择时间!"),""):(r+"").replace(".00","")+"小时"}function subtractTime2(e,t,n){var r=convertDateFromString(e),i=convertDateFromString(t),a=convertDateFromString(n),o=i.getTime()-r.getTime();return i.getTime()-a.getTime()<=0?(toast("结束时间需大于上次结束时间!"),""):9999<(o=(o/36e5).toFixed(2))?(toast("借用时长太大,请正确选择时间!"),""):(o+"").replace(".00","")+"小时"}var verification={auditApply:function(e){var t=e.type;if(!t||t<1||4<t)return"审批类型不正确!";if(!e.beginTime||!e.endTime)return"请将借用时间填写完整!";var n=convertDateFromString(e.beginTime).getTime(),r=convertDateFromString(e.endTime).getTime();if(r<=n)return"结束时间需大于开始时间!";if(9999<(r-n)/36e5)return"借用时长过大!";if(3==t){if(!(e.publicSeal?JSON.parse(e.publicSeal):[]).length)return"请选择要借用的公章!";if(!e.fileToSeal)return"请填写用印的文件名称!";if(!e.fileType||"请选择"==e.fileType)return"请选择文件类别!";if(!(e.fileImgUrl?JSON.parse(e.fileImgUrl):[]).length)return"请上传文件图片!"}else{var i=e.receivableElement?JSON.parse(e.receivableElement):[],a=e.riskElement?JSON.parse(e.riskElement):[];if(!i.length&&!a.length)return"请选择要借用的要件!";if(""==e.reason)return"请填写提取要件原因"}return""}},alertFunc=function(e,t){var n='<div id="dialog" style="position:fixed;width:100%;height:100%;background:rgba(0,0,0,.6);top:0;z-index:9;"><div style="padding:1rem 2rem;background:#fff;border-radius:.4rem;margin:9rem 3rem 0;"><p style="text-align:center;">'+e+'</p><div style="margin-top:2rem;text-align:center;"><button style="background:#3396fb;border:0;color:#fff;position:relative;z-index:10;">确定</button></div></div></div>';$("body").append(n);var r=$("#dialog");r.on("touchmove",function(e){e.preventDefault()}),r.find("button").on("click",function(e){"function"==typeof t&&t(),r.remove()})},alertWithTwoBtnFunc=function(e,t){var n='<div id="dialog" style="position:fixed;width:100%;height:100%;background:rgba(0,0,0,.6);top:0;z-index:9;"><div style="padding:1rem 2rem;background:#fff;border-radius:.4rem;margin:9rem 3rem 0;"><p style="text-align:center;">'+e+'</p><div style="margin-top:2rem;text-align:center;"><span style="margin-right:1.5rem;"><button class="ok" style="background:#3396fb;border:0;color:#fff;position:relative;z-index:10;">确定</button></span><span><button class="cancel" style="background:#3396fb;border:0;color:#fff;position:relative;z-index:10;">取消</button></span></div></div></div>';$("body").append(n);var r=$("#dialog");r.on("touchmove",function(e){e.preventDefault()}),r.find("button.ok").on("click",function(e){r.remove(),"function"==typeof t&&t(!0)}),r.find("button.cancel").on("click",function(e){r.remove(),"function"==typeof t&&t(!1)})},toast=function(e){$("body").append('<div class="toast">'+e+"</div>");var t=$("div.toast");setTimeout(function(){t.remove()},2e3)};function setTitle(e){document.title=e;var t=$("body"),n=$("<iframe style='display:none;' src='./favicon.ico'></iframe>");n.on("load",function(){setTimeout(function(){n.off("load").remove()},0)}).appendTo(t)}function chooseAppPerson(){console.log(22);var e,t;function n(e){if(e){var t=getCopyToFromStore(),n={};"string"==typeof e&&(e=JSON.parse(e)),n.uid=e.id,n.name=e.name;for(var r=!0,i=0;i<t.length;i++)if(t[i].uid==n.uid){r=!1;break}r&&(t.push(n),storeCopyTo(t),appendCopyTo(t))}}-1<(t=navigator.userAgent.toLowerCase()).indexOf("iphone")||-1<t.indexOf("ipad")?function(e){if(window.WebViewJavascriptBridge)return e(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var t=document.createElement("iframe");t.style.display="none",t.src="https://__bridge_loaded__",document.documentElement.appendChild(t),setTimeout(function(){document.documentElement.removeChild(t)},0)}(function(e){e.registerHandler("choosePersonCallBack",function(e){n(e)}),e.callHandler("choosePerson")}):(e=function(e){try{e.init(function(e,t){t({"Javascript Responds":"Wee!"})})}catch(e){}e.registerHandler("choosePersonCallBack",function(e){"string"==typeof e&&(e=JSON.parse(e)),n(e)}),e.callHandler("choosePerson")},window.WebViewJavascriptBridge?e(WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",function(){e(WebViewJavascriptBridge)},!1))}$("button").on("touchstart",function(){$(this).prop("disabled")||$(this).addClass("active")}),$("button").on("touchend",function(){$(this).prop("disabled")||$(this).removeClass("active")});var lastTime=base.getLocalStorage("lastTime");$("#lastStart").text(lastTime.startTime),$("#startTime").val(lastTime.startTime),$("#lastEnd").text(lastTime.endTime),$("#lastLong").text(lastTime.borrowDay+"小时"),$("#endTime").val(sessionStorage.getItem("endTime"));var userid=getUserid();function calculateDay(){var e=lastTime.startTime,t=lastTime.endTime,n=$("#endTime").val();if(e&&n){var r=subtractTime2(e,n,t);r?$("#day").html(r):($("#endTime").val(""),$("#day").html("根据选择的借用时间自动计算")),sessionStorage.setItem("endTime",$("#endTime").val())}}function initTimePicker(){$("#endTime").focus(function(){setTimeout(function(){$("div.gearDatetime").on("touchstart",function(e){e.preventDefault()}),$("div.gearDatetime").find("div.lcalendar_finish").on("touchstart",function(){calculateDay(),vericat()})},100),document.activeElement.blur()}),(new lCalendar).init({trigger:"#endTime",type:"datetime"})}function vericat(){var e=$("#endTime").val(),t=$("#reason").val();""!=e&&""!=$.trim(t)&&($("#submitBtn").addClass("bg_color_0cbbd3"),$("#submitBtn").prop("disabled",!1))}function appendCopyTo(e){$("#copyUsers").html(""),e.push({});for(var t=0;t<e.length;t++){e[t].colorClz=e[t].name?"img_bg_color_"+e[t].name.charCodeAt(0)%3:"img_bg_color_1",e[t].name&&(e[t].headName=e[t].name.substr(e[t].name.length-2,2));if(e[t].defaultCopy,e[t].uid){var n='<div class="aui-col-xs-2 userInfo"><div class="head_img_container_div"><span class="heafImgContainer '+e[t].colorClz+' head_no_img_span"><font class="no_img" style="margin-right:0">'+e[t].headName+'</font></span></div><p class="copyuid" style="display:none;" data-uid="'+e[t].uid+'"></p><p class="color_999 font_055" style="padding-left: 0;">'+e[t].name+"</p></div>";$("div#copyUsers").append(n)}else{$("div#copyUsers").append('<div class="aui-col-xs-2 userInfo add"><div><img src="../img/add_person.png" alt="" /></div><p class="color_999 font_055" style="padding-left: 0;">添加</p></div>')}}}function copyerHtml(){var e=base.getSessionStorage("copyTo");e?appendCopyTo(e):$("#copyContainer").html("")}function appendAuditor(e){e.colorClz=e.username?"img_bg_color_"+e.username.charCodeAt(0)%3:"img_bg_color_1",e.username&&(e.headName=e.username.substr(e.username.length-2,2));var t='<div class="aui-col-xs-2 userInfo" data-level="'+e.level+'"><div class="head_img_container_div"><span class="heafImgContainer '+e.colorClz+' head_no_img_span"><font class="no_img" style="margin-right:0">'+e.headName+'</font></span></div><p class="color_999 font_055" style="padding-left: 0;">'+e.username+"</p>",n='<div class="aui-col-xs-2 userInfo"  data-level="'+e.level+'"><div><img src="../img/add_person.png"  /></div>';e.uid?(e.describ?t+='<span style="padding: .15rem;" class="color_0cbbd3 bg_color_e5fcff font_size_045">'+e.describ+"</span></div>":t+="</div>",$("div#auditors").append(t)):(e.describ?n+='<span style="padding: .15rem;" class="color_0cbbd3 bg_color_e5fcff font_size_045">'+e.describ+"</span></div>":n+='<p class="color_999 font_055" style="padding-left: 0;">添加</p></div>',$("div#auditors").append(n))}if(initTimePicker(),$("#textRea").on("input","textarea",function(){$(this).val($(this).val().replace(/^(.{500}).*$/,"$1")),""!=$(this).val()?vericat():($("#submitBtn").removeClass("bg_color_0cbbd3"),$("#submitBtn").prop("disabled",!0))}),copyerHtml(),base.getSessionStorage("auditors"))var auditList=base.getSessionStorage("auditors");for(var _i4=0;_i4<auditList.length;_i4++)appendAuditor(auditList[_i4]);$("#copyUsers").on("click","span.copyDel",function(){var e=$(this).data("index"),t=getCopyToFromStore();t.splice(e,1),storeCopyTo(t),copyerHtml()}),$("#copyUsers").on("click","div.add",function(){if(userid){sessionStorage.setItem("goBack","true");var e=location.href;-1<e.indexOf("&emplid")&&(e=e.substr(0,e.indexOf("&emplid"))),-1<e.indexOf("&deptid")&&(e=e.substr(0,e.indexOf("&deptid")));var t=encodeURIComponent(e);window.location.href="http://edu.anjbo.com/api/dingtalk/picker.aspx?appid=2&multiple=1&redirect_uri="+t}else chooseAppPerson()});var id=getQueryParameter("id"),uid=getQueryParameter("uid"),copysList=base.getSessionStorage("copyTo"),copyId="";copysList.forEach(function(e,t){t!=copysList.length-1?copyId+=e.uid+",":copyId+=e.uid});var auditors=base.getSessionStorage("auditors"),auditorsId="";auditors.forEach(function(e,t){t!=auditors.length-1?auditorsId+=e.uid+",":auditorsId+=e.uid}),$("div.btnContainer button").click(function(){var t=$(this);t.prop("disabled",!0);var e={uid:uid,id:id,endTime:$("#endTime").val().trim()+"",reason:$("#reason").val().trim()+"",copyToUidListStr:copyId+"",auditorUidListStr:auditorsId};$.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",url:"/credit/element/dingtalk/extendBorrowingTime",data:e,beforeSend:function(){$("#loadingPart").show()},success:function(e){"SUCCESS"==e.code?(clearStore(),window.location.href="/elementH5/template/submit_doc_success.html"):(t.prop("disabled",!1),t.addClass("bg_color_0cbbd3"),alertFunc(e.msg))},complete:function(){$("#loadingPart").hide()},error:function(e){t.prop("disabled",!1),t.addClass("bg_color_0cbbd3"),alertFunc(e)}})});
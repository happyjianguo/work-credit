package com.anjbo.controller.impl.api;

import java.util.HashMap;
import java.util.Map;

import org.apache.commons.collections.MapUtils;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RestController;

import com.anjbo.bean.FlowableProcessDto;
import com.anjbo.controller.FlowAbleBaseController;
import com.anjbo.controller.api.IFlowableApiController;

@RestController
public class FlowableApiController extends FlowAbleBaseController implements IFlowableApiController{
	
//	public void startProcess(@RequestBody Map<String, Object> params) {
//		//通过productId 查找流程走向
//		
//		
//		//初始化主表			 tbl_flowable_base			id,orderNo,productId,processId,processName,handlerUid
//		//初始化流水表		 tbl_flowable_flow			id,orderNo,productId,processId,processName,handlerUid,handleTime,variable
//		//初始化流程节点处理人 tbl_flowable_handler       id,orderNo,productId,processId,processName,handlerUid
//		
//	}
//	
//	@Override
//	public Map<String, Object> complete(@RequestBody Map<String, Object> params) {
//		String productId = MapUtils.getString(params, "cityCode") + MapUtils.getString(params, "productCode");	//产品Id
//		String currentProcessId = MapUtils.getString(params, "processId");										//当前流程Id
//		String nextProcessId = "";																				//下一个流程Id
//		String nextProcessName = "";																			//下一个流程name
//		String currentHandlerUid = "";																			//下一个流程处理人uid
//		String currentHandler = "";																				//下一个流程处理人
//		
//		//获取流程信息 然后进行判断。
//		FlowableProcessDto flowableProcessDto = new FlowableProcessDto();
//		String expression = flowableProcessDto.getExpression();
//		
//		//通过下一个流程Id获取下一个流程处理人
//		
//		Map<String, Object> processMap = new HashMap<String, Object>();
//		processMap.put("processId", nextProcessId);
//		processMap.put("processName", nextProcessName);
//		processMap.put("currentHandlerUid", currentHandlerUid);
//		processMap.put("currentHandler", currentHandler);
//		return processMap;
//	}
	
}
